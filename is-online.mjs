import events$1 from'events';import http from'http';import https from'https';import require$$0 from'stream';import url from'url';import querystring from'querystring';import zlib from'zlib';import buffer from'buffer';import dgram from'dgram';import util from'util';import os from'os';var commonjsGlobal='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window;function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,'default')?e['default']:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function DuplexWrapper(e,t,o){'undefined'==typeof o&&(o=t,t=e,e=null),require$$0.Duplex.call(this,e),'function'!=typeof o.read&&(o=new require$$0.Readable(e).wrap(o)),this._writable=t,this._readable=o,this._waiting=!1;var r=this;t.once('finish',function(){r.end()}),this.once('finish',function(){t.end()}),o.on('readable',function(){r._waiting&&(r._waiting=!1,r._read())}),o.once('end',function(){r.push(null)}),(!e||'undefined'==typeof e.bubbleErrors||e.bubbleErrors)&&(t.on('error',function(e){r.emit('error',e)}),o.on('error',function(e){r.emit('error',e)}))}DuplexWrapper.prototype=Object.create(require$$0.Duplex.prototype,{constructor:{value:DuplexWrapper}}),DuplexWrapper.prototype._write=function(e,t,o){this._writable.write(e,t,o)},DuplexWrapper.prototype._read=function(){for(var e,t=0;null!==(e=this._readable.read());)this.push(e),t++;0==t&&(this._waiting=!0)};var duplexer3=function(e,t,o){return new DuplexWrapper(e,t,o)},DuplexWrapper_1=DuplexWrapper;duplexer3.DuplexWrapper=DuplexWrapper_1;var isStream_1=createCommonjsModule(function(e){'use strict';var t=e.exports=function(e){return null!==e&&'object'==typeof e&&'function'==typeof e.pipe};t.writable=function(e){return t(e)&&!1!==e.writable&&'function'==typeof e._write&&'object'==typeof e._writableState},t.readable=function(e){return t(e)&&!1!==e.readable&&'function'==typeof e._read&&'object'==typeof e._readableState},t.duplex=function(e){return t.writable(e)&&t.readable(e)},t.transform=function(e){return t.duplex(e)&&'function'==typeof e._transform&&'object'==typeof e._transformState}}),bufferStream=createCommonjsModule(function(e){'use strict';const t=require$$0.PassThrough;e.exports=(e)=>{e=Object.assign({},e);const o=e.array;let r=e.encoding;const n='buffer'===r;let a=!1;o?a=!(r||n):r=r||'utf8',n&&(r=null);let i=0;const s=[],p=new t({objectMode:a});return r&&p.setEncoding(r),p.on('data',(e)=>{s.push(e),a?i=s.length:i+=e.length}),p.getBufferedValue=()=>o?s:n?Buffer.concat(s,i):s.join(''),p.getBufferedLength=()=>i,p}});function getStream(e,t){if(!e)return Promise.reject(new Error('Expected a stream'));t=Object.assign({maxBuffer:Infinity},t);const o=t.maxBuffer;let r,n;const a=new Promise((a,i)=>{const s=(e)=>{e&&(e.bufferedData=r.getBufferedValue()),i(e)};r=bufferStream(t),e.once('error',s),e.pipe(r),r.on('data',()=>{r.getBufferedLength()>o&&i(new Error('maxBuffer exceeded'))}),r.once('error',s),r.on('end',a),n=()=>{e.unpipe&&e.unpipe(r)}});return a.then(n,n),a.then(()=>r.getBufferedValue())}var getStream_1=getStream,buffer$1=(e,t)=>getStream(e,Object.assign({},t,{encoding:'buffer'})),array=(e,t)=>getStream(e,Object.assign({},t,{array:!0}));getStream_1.buffer=buffer$1,getStream_1.array=array,'use strict';var timedOut=function(t,e){function o(){t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null)}function r(){o(),void 0!==n.socket&&t.setTimeout(n.socket,function(){t.abort();var o=new Error('Socket timed out on request'+a);o.code='ESOCKETTIMEDOUT',t.emit('error',o)})}if(t.timeoutTimer)return t;var n=isNaN(e)?e:{socket:e,connect:e},a=t._headers?' to '+t._headers.host:'';return void 0!==n.connect&&(t.timeoutTimer=setTimeout(function(){t.abort();var o=new Error('Connection timed out on request'+a);o.code='ETIMEDOUT',t.emit('error',o)},n.connect)),t.on('socket',function(e){return e.connecting||e._connecting?void e.once('connect',r):void r()}),t.on('error',o)};var prependHttp=function(e){if('string'!=typeof e)throw new TypeError('Expected a string, got '+typeof e);return e=e.trim(),/^\.*\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,'http://')};var urlParseLax=function(e){var t=prependHttp(e),o=url.parse(t);return t!==e&&(o.protocol=null),o};var lowercaseKeys=function(e){for(var t={},o=Object.keys(Object(e)),r=0;r<o.length;r++)t[o[r].toLowerCase()]=e[o[r]];return t};var isRedirect=function(e){if('number'!=typeof e)throw new TypeError('Expected a number');return 300===e||301===e||302===e||303===e||305===e||307===e||308===e},unzipResponse=createCommonjsModule(function(e){'use strict';const t=require$$0.PassThrough;e.exports=(e)=>{if(-1===['gzip','deflate'].indexOf(e.headers['content-encoding']))return e;const o=zlib.createUnzip(),r=new t;return r.httpVersion=e.httpVersion,r.headers=e.headers,r.rawHeaders=e.rawHeaders,r.trailers=e.trailers,r.rawTrailers=e.rawTrailers,r.setTimeout=e.setTimeout.bind(e),r.statusCode=e.statusCode,r.statusMessage=e.statusMessage,r.socket=e.socket,o.on('error',(e)=>'Z_BUF_ERROR'===e.code?void r.end():void r.emit('error',e)),e.pipe(o).pipe(r),r}});var captureStackTrace=Error.captureStackTrace||function(e){var t=new Error;Object.defineProperty(e,'stack',{configurable:!0,get:function(){var e=t.stack;return Object.defineProperty(this,'stack',{value:e}),e}})};function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var createErrorClass=function(e,t){if('string'!=typeof e)throw new TypeError('Expected className to be a string');if(/[^0-9a-zA-Z_$]/.test(e))throw new Error('className contains invalid characters');t=t||function(e){this.message=e};var o=function(){Object.defineProperty(this,'name',{configurable:!0,value:e,writable:!0}),captureStackTrace(this,this.constructor),t.apply(this,arguments)};return inherits(o,Error),o};var WHITELIST=['ETIMEDOUT','ECONNRESET','EADDRINUSE','ESOCKETTIMEDOUT','ECONNREFUSED','EPIPE'],BLACKLIST=['ENOTFOUND','ENETUNREACH','UNABLE_TO_GET_ISSUER_CERT','UNABLE_TO_GET_CRL','UNABLE_TO_DECRYPT_CERT_SIGNATURE','UNABLE_TO_DECRYPT_CRL_SIGNATURE','UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY','CERT_SIGNATURE_FAILURE','CRL_SIGNATURE_FAILURE','CERT_NOT_YET_VALID','CERT_HAS_EXPIRED','CRL_NOT_YET_VALID','CRL_HAS_EXPIRED','ERROR_IN_CERT_NOT_BEFORE_FIELD','ERROR_IN_CERT_NOT_AFTER_FIELD','ERROR_IN_CRL_LAST_UPDATE_FIELD','ERROR_IN_CRL_NEXT_UPDATE_FIELD','OUT_OF_MEM','DEPTH_ZERO_SELF_SIGNED_CERT','SELF_SIGNED_CERT_IN_CHAIN','UNABLE_TO_GET_ISSUER_CERT_LOCALLY','UNABLE_TO_VERIFY_LEAF_SIGNATURE','CERT_CHAIN_TOO_LONG','CERT_REVOKED','INVALID_CA','PATH_LENGTH_EXCEEDED','INVALID_PURPOSE','CERT_UNTRUSTED','CERT_REJECTED'],isRetryAllowed=function(e){return e&&e.code?-1!==WHITELIST.indexOf(e.code)||!(-1!==BLACKLIST.indexOf(e.code)):!0},safeBuffer=createCommonjsModule(function(e,t){function o(e,t){for(var o in e)t[o]=e[o]}function r(e,t,o){return n(e,t,o)}var n=buffer.Buffer;n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=buffer:(o(buffer,t),t.Buffer=r),o(n,r),r.from=function(e,t,o){if('number'==typeof e)throw new TypeError('Argument must not be a number');return n(e,t,o)},r.alloc=function(e,t,o){if('number'!=typeof e)throw new TypeError('Argument must be a number');var r=n(e);return void 0===t?r.fill(0):'string'==typeof o?r.fill(t,o):r.fill(t),r},r.allocUnsafe=function(e){if('number'!=typeof e)throw new TypeError('Argument must be a number');return n(e)},r.allocUnsafeSlow=function(e){if('number'!=typeof e)throw new TypeError('Argument must be a number');return buffer.SlowBuffer(e)}}),name='got',version='6.7.1',description='Simplified HTTP requests',license='MIT',repository='sindresorhus/got',maintainers=[{name:'Sindre Sorhus',email:'sindresorhus@gmail.com',url:'sindresorhus.com'},{name:'Vsevolod Strukchinsky',email:'floatdrop@gmail.com',url:'github.com/floatdrop'}],engines={node:'>=4'},browser={"unzip-response":!1},scripts={test:'xo && nyc ava',coveralls:'nyc report --reporter=text-lcov | coveralls'},files=['index.js'],keywords=['http','https','get','got','url','uri','request','util','utility','simple','curl','wget','fetch'],dependencies={"create-error-class":'^3.0.0',duplexer3:'^0.1.4',"get-stream":'^3.0.0',"is-redirect":'^1.0.0',"is-retry-allowed":'^1.0.0',"is-stream":'^1.0.0',"lowercase-keys":'^1.0.0',"safe-buffer":'^5.0.1',"timed-out":'^4.0.0',"unzip-response":'^2.0.1',"url-parse-lax":'^1.0.0'},devDependencies={ava:'^0.17.0',coveralls:'^2.11.4',"form-data":'^2.1.1',"get-port":'^2.0.0',"into-stream":'^3.0.0',nyc:'^10.0.0',pem:'^1.4.4',pify:'^2.3.0',tempfile:'^1.1.1',xo:'*'},xo={esnext:!0},ava={concurrency:4},_package={name:name,version:version,description:description,license:license,repository:repository,maintainers:maintainers,engines:engines,browser:browser,scripts:scripts,files:files,keywords:keywords,dependencies:dependencies,devDependencies:devDependencies,xo:xo,ava:ava},_package$1=Object.freeze({name:name,version:version,description:description,license:license,repository:repository,maintainers:maintainers,engines:engines,browser:browser,scripts:scripts,files:files,keywords:keywords,dependencies:dependencies,devDependencies:devDependencies,xo:xo,ava:ava,default:_package}),pkg=_package$1&&_package||_package$1;const PassThrough=require$$0.PassThrough,Buffer$1=safeBuffer.Buffer;function requestAsEventEmitter(e){e=e||{};const t=new events$1,o=e.href||url.resolve(url.format(e),e.path);let r,n=0,a=0;const i=(e)=>{const s='https:'===e.protocol?https:http,p=s.request(e,(a)=>{const s=a.statusCode;if(isRedirect(s)&&e.followRedirect&&'location'in a.headers&&('GET'===e.method||'HEAD'===e.method)){if(a.resume(),10<++n)return void t.emit('error',new got.MaxRedirectsError(s,e),null,a);const o=Buffer$1.from(a.headers.location,'binary').toString();r=url.resolve(url.format(e),o);const p=Object.assign({},e,url.parse(r));return t.emit('redirect',a,p),void i(p)}setImmediate(()=>{const e='function'==typeof unzipResponse&&'HEAD'!==p.method?unzipResponse(a):a;e.url=r||o,e.requestUrl=o,t.emit('response',e)})});p.once('error',(o)=>{const r=e.retries(++a,o);return r?void setTimeout(i,r,e):void t.emit('error',new got.RequestError(o,e))}),e.gotTimeout&&timedOut(p,e.gotTimeout),setImmediate(()=>{t.emit('request',p)})};return i(e),t}function asPromise(t){return new Promise((e,o)=>{const r=requestAsEventEmitter(t);r.on('request',(e)=>isStream_1(t.body)?(t.body.pipe(e),void(t.body=void 0)):void e.end(t.body)),r.on('response',(r)=>{const n=null===t.encoding?getStream_1.buffer(r):getStream_1(r,t);n.catch((e)=>o(new got.ReadError(e,t))).then((o)=>{const n=r.statusCode,a=t.followRedirect?299:399;if(r.body=o,t.json&&r.body)try{r.body=JSON.parse(r.body)}catch(r){throw new got.ParseError(r,n,t,o)}if(200>n||n>a)throw new got.HTTPError(n,t);e(r)}).catch((e)=>{Object.defineProperty(e,'response',{value:r}),o(e)})}),r.on('error',o)})}function asStream(e){const t=new PassThrough,o=new PassThrough,r=duplexer3(t,o);if(e.json)throw new Error('got can not be used as stream when options.json is used');e.body&&(r.write=()=>{throw new Error('got\'s stream is not writable when options.body is used')});const n=requestAsEventEmitter(e);return n.on('request',(o)=>(r.emit('request',o),isStream_1(e.body)?void e.body.pipe(o):e.body?void o.end(e.body):'POST'===e.method||'PUT'===e.method||'PATCH'===e.method?void t.pipe(o):void o.end())),n.on('response',(t)=>{const n=t.statusCode;return t.pipe(o),200>n||299<n?void r.emit('error',new got.HTTPError(n,e),null,t):void r.emit('response',t)}),n.on('redirect',r.emit.bind(r,'redirect')),n.on('error',r.emit.bind(r,'error')),r}function normalizeArguments(e,t){if('string'!=typeof e&&'object'!=typeof e)throw new Error(`Parameter \`url\` must be a string or object, not ${typeof e}`);if('string'==typeof e&&(e=e.replace(/^unix:/,'http://$&'),e=urlParseLax(e),e.auth))throw new Error('Basic authentication must be done with auth option');t=Object.assign({protocol:'http:',path:'',retries:5},e,t),t.headers=Object.assign({"user-agent":`${pkg.name}/${pkg.version} (https://github.com/sindresorhus/got)`,"accept-encoding":'gzip,deflate'},lowercaseKeys(t.headers));const o=t.query;o&&('string'!=typeof o&&(t.query=querystring.stringify(o)),t.path=`${t.path.split('?')[0]}?${t.query}`,delete t.query),t.json&&void 0===t.headers.accept&&(t.headers.accept='application/json');let r=t.body;if(r){if('string'!=typeof r&&(null===r||'object'!=typeof r))throw new Error('options.body must be a ReadableStream, string, Buffer or plain Object');if(t.method=t.method||'POST',isStream_1(r)&&'function'==typeof r.getBoundary?t.headers['content-type']=t.headers['content-type']||`multipart/form-data; boundary=${r.getBoundary()}`:null!==r&&'object'==typeof r&&!Buffer$1.isBuffer(r)&&!isStream_1(r)&&(t.headers['content-type']=t.headers['content-type']||'application/x-www-form-urlencoded',r=t.body=querystring.stringify(r)),void 0===t.headers['content-length']&&void 0===t.headers['transfer-encoding']&&!isStream_1(r)){const e='string'==typeof r?Buffer$1.byteLength(r):r.length;t.headers['content-length']=e}}if(t.method=(t.method||'GET').toUpperCase(),'unix'===t.hostname){const e=/(.+):(.+)/.exec(t.path);e&&(t.socketPath=e[1],t.path=e[2],t.host=null)}if('function'!=typeof t.retries){const e=t.retries;t.retries=(t,o)=>{if(t>e||!isRetryAllowed(o))return 0;const r=100*Math.random();return 1e3*(1<<t)+r}}return void 0===t.followRedirect&&(t.followRedirect=!0),t.timeout&&(t.gotTimeout=t.timeout,delete t.timeout),t}function got(e,t){try{return asPromise(normalizeArguments(e,t))}catch(e){return Promise.reject(e)}}const helpers=['get','post','put','patch','head','delete'];helpers.forEach((e)=>{got[e]=(t,o)=>got(t,Object.assign({},o,{method:e}))}),got.stream=(e,t)=>asStream(normalizeArguments(e,t));for(const e of helpers)got.stream[e]=(t,o)=>got.stream(t,Object.assign({},o,{method:e}));function stdError(e,t){e.code!==void 0&&(this.code=e.code),Object.assign(this,{message:e.message,host:t.host,hostname:t.hostname,method:t.method,path:t.path})}got.RequestError=createErrorClass('RequestError',stdError),got.ReadError=createErrorClass('ReadError',stdError),got.ParseError=createErrorClass('ParseError',function(t,e,o,r){stdError.call(this,t,o),this.statusCode=e,this.statusMessage=http.STATUS_CODES[this.statusCode],this.message=`${t.message} in "${url.format(o)}": \n${r.slice(0,77)}...`}),got.HTTPError=createErrorClass('HTTPError',function(e,t){stdError.call(this,{},t),this.statusCode=e,this.statusMessage=http.STATUS_CODES[this.statusCode],this.message=`Response code ${this.statusCode} (${this.statusMessage})`}),got.MaxRedirectsError=createErrorClass('MaxRedirectsError',function(e,t){stdError.call(this,{},t),this.statusCode=e,this.statusMessage=http.STATUS_CODES[this.statusCode],this.message='Redirected 10 times. Aborting.'});var got_1=got,toString_1=function(e){return 1===e?'A':10===e?'NULL':28===e?'AAAA':18===e?'AFSDB':42===e?'APL':257===e?'CAA':60===e?'CDNSKEY':59===e?'CDS':37===e?'CERT':5===e?'CNAME':49===e?'DHCID':32769===e?'DLV':39===e?'DNAME':48===e?'DNSKEY':43===e?'DS':55===e?'HIP':13===e?'HINFO':45===e?'IPSECKEY':25===e?'KEY':36===e?'KX':29===e?'LOC':15===e?'MX':35===e?'NAPTR':2===e?'NS':47===e?'NSEC':50===e?'NSEC3':51===e?'NSEC3PARAM':12===e?'PTR':46===e?'RRSIG':17===e?'RP':24===e?'SIG':6===e?'SOA':99===e?'SPF':33===e?'SRV':44===e?'SSHFP':32768===e?'TA':249===e?'TKEY':52===e?'TLSA':250===e?'TSIG':16===e?'TXT':252===e?'AXFR':251===e?'IXFR':41===e?'OPT':255===e?'ANY':'UNKNOWN_'+e},toType=function(e){switch(e.toUpperCase()){case'A':return 1;case'NULL':return 10;case'AAAA':return 28;case'AFSDB':return 18;case'APL':return 42;case'CAA':return 257;case'CDNSKEY':return 60;case'CDS':return 59;case'CERT':return 37;case'CNAME':return 5;case'DHCID':return 49;case'DLV':return 32769;case'DNAME':return 39;case'DNSKEY':return 48;case'DS':return 43;case'HIP':return 55;case'HINFO':return 13;case'IPSECKEY':return 45;case'KEY':return 25;case'KX':return 36;case'LOC':return 29;case'MX':return 15;case'NAPTR':return 35;case'NS':return 2;case'NSEC':return 47;case'NSEC3':return 50;case'NSEC3PARAM':return 51;case'PTR':return 12;case'RRSIG':return 46;case'RP':return 17;case'SIG':return 24;case'SOA':return 6;case'SPF':return 99;case'SRV':return 33;case'SSHFP':return 44;case'TA':return 32768;case'TKEY':return 249;case'TLSA':return 52;case'TSIG':return 250;case'TXT':return 16;case'AXFR':return 252;case'IXFR':return 251;case'OPT':return 41;case'ANY':return 255;case'*':return 255;}return 0},types={toString:toString_1,toType:toType},ip_1=createCommonjsModule(function(e,t){'use strict';function o(e){return e?e.toLowerCase():'ipv4'}var r=t,a=buffer.Buffer;r.toBuffer=function(e,t,o){o=~~o;var r;if(this.isV4Format(e))r=t||new a(o+4),e.split(/\./g).map(function(e){r[o++]=255&parseInt(e,10)});else if(this.isV6Format(e)){var n,i=e.split(':',8);for(n=0;n<i.length;n++){var s,p=this.isV4Format(i[n]);p&&(s=this.toBuffer(i[n]),i[n]=s.slice(0,2).toString('hex')),s&&8>++n&&i.splice(n,0,s.slice(2,4).toString('hex'))}if(''===i[0])for(;8>i.length;)i.unshift('0');else if(''===i[i.length-1])for(;8>i.length;)i.push('0');else if(8>i.length){for(n=0;n<i.length&&''!==i[n];n++);var u=[n,1];for(n=9-i.length;0<n;n--)u.push('0');i.splice.apply(i,u)}for(r=t||new a(o+16),n=0;n<i.length;n++){var d=parseInt(i[n],16);r[o++]=255&d>>8,r[o++]=255&d}}if(!r)throw Error('Invalid ip address: '+e);return r},r.toString=function(e,t,o){t=~~t,o=o||e.length-t;var r=[];if(4===o){for(var n=0;n<o;n++)r.push(e[t+n]);r=r.join('.')}else if(16===o){for(var n=0;n<o;n+=2)r.push(e.readUInt16BE(t+n).toString(16));r=r.join(':'),r=r.replace(/(^|:)0(:0)*:0(:|$)/,'$1::$3'),r=r.replace(/:{3,4}/,'::')}return r};var n=/^(\d{1,3}\.){3,3}\d{1,3}$/,i=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;r.isV4Format=function(e){return n.test(e)},r.isV6Format=function(e){return i.test(e)},r.fromPrefixLen=function(e,t){t=32<e?'ipv6':o(t);var s=4;'ipv6'===t&&(s=16);for(var p,u=new a(s),d=0,i=u.length;d<i;++d)p=8,8>e&&(p=e),e-=p,u[d]=255&~(255>>p);return r.toString(u)},r.mask=function(e,t){e=r.toBuffer(e),t=r.toBuffer(t);var o=new a(Math.max(e.length,t.length)),n=0;if(e.length===t.length)for(n=0;n<e.length;n++)o[n]=e[n]&t[n];else if(4===t.length)for(n=0;n<t.length;n++)o[n]=e[e.length-4+n]&t[n];else{for(var n=0;n<o.length-6;n++)o[n]=0;for(o[10]=255,o[11]=255,n=0;n<e.length;n++)o[n+12]=e[n]&t[n+12];n+=12}for(;n<o.length;n++)o[n]=0;return r.toString(o)},r.cidr=function(e){var t=e.split('/'),o=t[0];if(2!==t.length)throw new Error('invalid CIDR subnet: '+o);var n=r.fromPrefixLen(parseInt(t[1],10));return r.mask(o,n)},r.subnet=function(e,t){for(var o=r.toLong(r.mask(e,t)),n=r.toBuffer(t),a=0,s=0;s<n.length;s++)if(255===n[s])a+=8;else for(var i=255&n[s];i;)i=255&i<<1,a++;var p=Math.pow(2,32-a);return{networkAddress:r.fromLong(o),firstAddress:2>=p?r.fromLong(o):r.fromLong(o+1),lastAddress:2>=p?r.fromLong(o+p-1):r.fromLong(o+p-2),broadcastAddress:r.fromLong(o+p-1),subnetMask:t,subnetMaskLength:a,numHosts:2>=p?p:p-2,length:p,contains:function(e){return o===r.toLong(r.mask(e,t))}}},r.cidrSubnet=function(e){var t=e.split('/'),o=t[0];if(2!==t.length)throw new Error('invalid CIDR subnet: '+o);var n=r.fromPrefixLen(parseInt(t[1],10));return r.subnet(o,n)},r.not=function(e){for(var t=r.toBuffer(e),o=0;o<t.length;o++)t[o]=255^t[o];return r.toString(t)},r.or=function(e,t){if(e=r.toBuffer(e),t=r.toBuffer(t),e.length===t.length){for(var o=0;o<e.length;++o)e[o]|=t[o];return r.toString(e)}var n=e,a=t;t.length>e.length&&(n=t,a=e);for(var i=n.length-a.length,o=i;o<n.length;++o)n[o]|=a[o-i];return r.toString(n)},r.isEqual=function(e,o){if(e=r.toBuffer(e),o=r.toBuffer(o),e.length===o.length){for(var n=0;n<e.length;n++)if(e[n]!==o[n])return!1;return!0}if(4===o.length){var a=o;o=e,e=a}for(var n=0;10>n;n++)if(0!==o[n])return!1;var t=o.readUInt16BE(10);if(0!==t&&65535!==t)return!1;for(var n=0;4>n;n++)if(e[n]!==o[n+12])return!1;return!0},r.isPrivate=function(e){return /^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.isPublic=function(e){return!r.isPrivate(e)},r.isLoopback=function(e){return /^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.loopback=function(e){if(e=o(e),'ipv4'!==e&&'ipv6'!==e)throw new Error('family must be ipv4 or ipv6');return'ipv4'===e?'127.0.0.1':'fe80::1'},r.address=function(e,t){var n,a=os.networkInterfaces();if(t=o(t),e&&'private'!==e&&'public'!==e){var i=a[e].filter(function(e){var o=e.family.toLowerCase();return o===t});return 0===i.length?void 0:i[0].address}var n=Object.keys(a).map(function(o){var n=a[o].filter(function(o){return(o.family=o.family.toLowerCase(),!(o.family!==t||r.isLoopback(o.address)))&&(!e||('public'===e?r.isPrivate(o.address):r.isPublic(o.address)))});return n.length?n[0].address:void 0}).filter(Boolean);return n.length?n[0]:r.loopback(t)},r.toLong=function(e){var t=0;return e.split('.').forEach(function(e){t<<=8,t+=parseInt(e)}),t>>>0},r.fromLong=function(e){return(e>>>24)+'.'+(255&e>>16)+'.'+(255&e>>8)+'.'+(255&e)}}),dnsPacket=createCommonjsModule(function(e,t){function o(e,t){for(var o=0,r=0;r<e.length;r++)o+=t.encodingLength(e[r]);return o}function r(e,t,o,r){for(var n=0;n<e.length;n++)t.encode(e[n],o,r),r+=t.encode.bytes;return r}function n(e,t,o,r){for(var n=0;n<e.length;n++)e[n]=t.decode(o,r),r+=t.decode.bytes;return r}var p=safeBuffer.Buffer,a=32768,i=32768,s=32768,u={};u.encode=function(e,t,o){t||(t=p.allocUnsafe(u.encodingLength(e))),o||(o=0);for(var r,n=e.split('.'),a=o,s=0;s<n.length;s++)r=t.write(n[s],o+1),t[o]=r,o+=r+1;return t[o++]=0,u.encode.bytes=o-a,t},u.encode.bytes=0,u.decode=function(e,t){t||(t=0);var o=[],r=t,n=e[t++];if(192<=n){var a=u.decode(e,e.readUInt16BE(t-1)-49152);return u.decode.bytes=2,a}for(;n;){if(192<=n){o.push(u.decode(e,e.readUInt16BE(t-1)-49152)),t++;break}o.push(e.toString('utf-8',t,t+n)),t+=n,n=e[t++]}return u.decode.bytes=t-r,o.join('.')},u.decode.bytes=0,u.encodingLength=function(e){return p.byteLength(e)+2};var d={};d.encode=function(e,t,o){t||(t=p.allocUnsafe(d.encodingLength(e))),o||(o=0);var r=t.write(e,o+1);return t[o]=r,d.encode.bytes=r+1,t},d.encode.bytes=0,d.decode=function(e,t){t||(t=0);var o=e[t],r=e.toString('utf-8',t+1,t+1+o);return d.decode.bytes=o+1,r},d.decode.bytes=0,d.encodingLength=function(e){return p.byteLength(e)+1};var c={};c.encode=function(e,t,o){t||(t=c.encodingLength(e)),o||(o=0);var r=32767&(e.flags||0),n='response'===e.type?a:0;return t.writeUInt16BE(e.id||0,o),t.writeUInt16BE(r|n,o+2),t.writeUInt16BE(e.questions.length,o+4),t.writeUInt16BE(e.answers.length,o+6),t.writeUInt16BE(e.authorities.length,o+8),t.writeUInt16BE(e.additionals.length,o+10),t},c.encode.bytes=12,c.decode=function(e,t){if(t||(t=0),12>e.length)throw new Error('Header must be 12 bytes');var o=e.readUInt16BE(t+2);return{id:e.readUInt16BE(t),type:o&a?'response':'query',flags:32767&o,questions:Array(e.readUInt16BE(t+4)),answers:Array(e.readUInt16BE(t+6)),authorities:Array(e.readUInt16BE(t+8)),additionals:Array(e.readUInt16BE(t+10))}},c.decode.bytes=12,c.encodingLength=function(){return 12};var l=t.unknown={};l.encode=function(e,t,o){return t||(t=p.allocUnsafe(l.encodingLength(e))),o||(o=0),t.writeUInt16BE(e.length,o),e.copy(t,o+2),l.encode.bytes=e.length+2,t},l.encode.bytes=0,l.decode=function(e,t){t||(t=0);var o=e.readUInt16BE(t),r=e.slice(t+2,t+2+o);return l.decode.bytes=o+2,r},l.decode.bytes=0,l.encodingLength=function(e){return e.length+2};var y=t.txt=t.null={};y.encode=function(e,t,o){t||(t=p.allocUnsafe(y.encodingLength(e))),o||(o=0),'string'==typeof e&&(e=p.from(e)),e||(e=p.allocUnsafe(0));var r=o;o+=2;var n=e.length;return e.copy(t,o,0,n),o+=n,t.writeUInt16BE(o-r-2,r),y.encode.bytes=o-r,t},y.encode.bytes=0,y.decode=function(e,t){t||(t=0);var o=t,r=e.readUInt16BE(t);t+=2;var n=e.slice(t,t+r);return t+=r,y.decode.bytes=t-o,n},y.decode.bytes=0,y.encodingLength=function(e){return e?(p.isBuffer(e)?e.length:p.byteLength(e))+2:2};var f=t.hinfo={};f.encode=function(e,t,o){t||(t=p.allocUnsafe(f.encodingLength(e))),o||(o=0);var r=o;return o+=2,d.encode(e.cpu,t,o),o+=d.encode.bytes,d.encode(e.os,t,o),o+=d.encode.bytes,t.writeUInt16BE(o-r-2,r),f.encode.bytes=o-r,t},f.encode.bytes=0,f.decode=function(e,t){t||(t=0);var o=t,r={};return t+=2,r.cpu=d.decode(e,t),t+=d.decode.bytes,r.os=d.decode(e,t),t+=d.decode.bytes,f.decode.bytes=t-o,r},f.decode.bytes=0,f.encodingLength=function(e){return d.encodingLength(e.cpu)+d.encodingLength(e.os)+2};var _=t.ptr={},h=t.cname=_,g=t.dname=_;_.encode=function(e,t,o){return t||(t=p.allocUnsafe(_.encodingLength(e))),o||(o=0),u.encode(e,t,o+2),t.writeUInt16BE(u.encode.bytes,o),_.encode.bytes=u.encode.bytes+2,t},_.encode.bytes=0,_.decode=function(e,t){t||(t=0);var o=u.decode(e,t+2);return _.decode.bytes=u.decode.bytes+2,o},_.decode.bytes=0,_.encodingLength=function(e){return u.encodingLength(e)+2};var m=t.srv={};m.encode=function(e,t,o){t||(t=p.allocUnsafe(m.encodingLength(e))),o||(o=0),t.writeUInt16BE(e.priority||0,o+2),t.writeUInt16BE(e.weight||0,o+4),t.writeUInt16BE(e.port||0,o+6),u.encode(e.target,t,o+8);var r=u.encode.bytes+6;return t.writeUInt16BE(r,o),m.encode.bytes=r+2,t},m.encode.bytes=0,m.decode=function(e,t){t||(t=0);var o=e.readUInt16BE(t),r={};return r.priority=e.readUInt16BE(t+2),r.weight=e.readUInt16BE(t+4),r.port=e.readUInt16BE(t+6),r.target=u.decode(e,t+8),m.decode.bytes=o+2,r},m.decode.bytes=0,m.encodingLength=function(e){return 8+u.encodingLength(e.target)};var b=t.caa={};b.ISSUER_CRITICAL=128,b.encode=function(e,t,o){var r=b.encodingLength(e);return t||(t=p.allocUnsafe(b.encodingLength(e))),o||(o=0),e.issuerCritical&&(e.flags=b.ISSUER_CRITICAL),t.writeUInt16BE(r-2,o),o+=2,t.writeUInt8(e.flags||0,o),o+=1,d.encode(e.tag,t,o),o+=d.encode.bytes,t.write(e.value,o),o+=p.byteLength(e.value),b.encode.bytes=r,t},b.encode.bytes=0,b.decode=function(e,t){t||(t=0);var o=e.readUInt16BE(t);t+=2;var r=t,n={};return n.flags=e.readUInt8(t),t+=1,n.tag=d.decode(e,t),t+=d.decode.bytes,n.value=e.toString('utf-8',t,r+o),n.issuerCritical=!!(n.flags&b.ISSUER_CRITICAL),b.decode.bytes=o+2,n},b.decode.bytes=0,b.encodingLength=function(e){return d.encodingLength(e.tag)+d.encodingLength(e.value)+2};var E=t.a={};E.encode=function(e,t,o){return t||(t=p.allocUnsafe(E.encodingLength(e))),o||(o=0),t.writeUInt16BE(4,o),o+=2,ip_1.toBuffer(e,t,o),E.encode.bytes=6,t},E.encode.bytes=0,E.decode=function(e,t){t||(t=0),t+=2;var o=ip_1.toString(e,t,4);return E.decode.bytes=6,o},E.decode.bytes=0,E.encodingLength=function(){return 6};var v=t.aaaa={};v.encode=function(e,t,o){return t||(t=p.allocUnsafe(v.encodingLength(e))),o||(o=0),t.writeUInt16BE(16,o),o+=2,ip_1.toBuffer(e,t,o),v.encode.bytes=18,t},v.encode.bytes=0,v.decode=function(e,t){t||(t=0),t+=2;var o=ip_1.toString(e,t,16);return v.decode.bytes=18,o},v.decode.bytes=0,v.encodingLength=function(){return 18};var S=t.record=function(e){switch(e.toUpperCase()){case'A':return E;case'PTR':return _;case'CNAME':return h;case'DNAME':return g;case'TXT':return y;case'NULL':return y;case'AAAA':return v;case'SRV':return m;case'HINFO':return f;case'CAA':return b;}return l},F=t.answer={};F.encode=function(e,t,o){t||(t=p.allocUnsafe(F.encodingLength(e))),o||(o=0);var r=o;u.encode(e.name,t,o),o+=u.encode.bytes,t.writeUInt16BE(types.toType(e.type),o);var n=void 0===e.class?1:e.class;e.flush&&(n|=i),t.writeUInt16BE(n,o+2),t.writeUInt32BE(e.ttl||0,o+4);var a=S(e.type);return a.encode(e.data,t,o+8),o+=8+a.encode.bytes,F.encode.bytes=o-r,t},F.encode.bytes=0,F.decode=function(e,t){t||(t=0);var o={},r=t;o.name=u.decode(e,t),t+=u.decode.bytes,o.type=types.toString(e.readUInt16BE(t)),o.class=e.readUInt16BE(t+2),o.ttl=e.readUInt32BE(t+4),o.flush=!!(o.class&i),o.flush&&(o.class&=~i);var n=S(o.type);return o.data=n.decode(e,t+8),t+=8+n.decode.bytes,F.decode.bytes=t-r,o},F.decode.bytes=0,F.encodingLength=function(e){return u.encodingLength(e.name)+8+S(e.type).encodingLength(e.data)};var k=t.question={};k.encode=function(e,t,o){t||(t=p.allocUnsafe(k.encodingLength(e))),o||(o=0);var r=o;return u.encode(e.name,t,o),o+=u.encode.bytes,t.writeUInt16BE(types.toType(e.type),o),o+=2,t.writeUInt16BE(void 0===e.class?1:e.class,o),o+=2,k.encode.bytes=o-r,e},k.encode.bytes=0,k.decode=function(e,t){t||(t=0);var o=t,r={};r.name=u.decode(e,t),t+=u.decode.bytes,r.type=types.toString(e.readUInt16BE(t)),t+=2,r.class=e.readUInt16BE(t),t+=2;var n=!!(r.class&s);return n&&(r.class&=~s),k.decode.bytes=t-o,r},k.decode.bytes=0,k.encodingLength=function(e){return u.encodingLength(e.name)+4},t.AUTHORITATIVE_ANSWER=1024,t.TRUNCATED_RESPONSE=512,t.RECURSION_DESIRED=256,t.RECURSION_AVAILABLE=128,t.AUTHENTIC_DATA=32,t.CHECKING_DISABLED=16,t.encode=function(e,o,n){o||(o=p.allocUnsafe(t.encodingLength(e))),n||(n=0);var a=n;return e.questions||(e.questions=[]),e.answers||(e.answers=[]),e.authorities||(e.authorities=[]),e.additionals||(e.additionals=[]),c.encode(e,o,n),n+=c.encode.bytes,n=r(e.questions,k,o,n),n=r(e.answers,F,o,n),n=r(e.authorities,F,o,n),n=r(e.additionals,F,o,n),t.encode.bytes=n-a,o},t.encode.bytes=0,t.decode=function(e,o){o||(o=0);var r=o,a=c.decode(e,o);return o+=c.decode.bytes,o=n(a.questions,k,e,o),o=n(a.answers,F,e,o),o=n(a.authorities,F,e,o),o=n(a.additionals,F,e,o),t.decode.bytes=o-r,a},t.decode.bytes=0,t.encodingLength=function(e){return c.encodingLength(e)+o(e.questions||[],k)+o(e.answers||[],F)+o(e.authorities||[],F)+o(e.additionals||[],F)}}),dnsSocket=DNS;function DNS(e){function t(){o._ontimeout()}if(!(this instanceof DNS))return new DNS(e);e||(e={}),events$1.EventEmitter.call(this);var o=this;this.retries=e.retries||5,this.timeout=e.timeout||7500,this.destroyed=!1,this.inflight=0,this.socket=e.socket||dgram.createSocket('udp4'),this.socket.on('error',function(e){'EACCES'===e.code||'EADDRINUSE'===e.code?o.emit('error',e):o.emit('warning',e)}),this.socket.on('message',function(e,t){o._onmessage(e,t)}),this.socket.on('listening',function(){var e=o._triesArray.reduce(add,0);o._interval=setInterval(t,Math.round(o.timeout/e)),o.emit('listening')}),this.socket.on('close',function(){o.emit('close')}),this._id=Math.ceil(65535*Math.random()),this._ids=[],this._queries=[],this._interval=null,this._triesArray=getTriesArray(this.retries)}util.inherits(DNS,events$1.EventEmitter),DNS.RECURSION_DESIRED=DNS.prototype.RECURSION_DESIRED=dnsPacket.RECURSION_DESIRED,DNS.RECURSION_AVAILABLE=DNS.prototype.RECURSION_AVAILABLE=dnsPacket.RECURSION_AVAILABLE,DNS.TRUNCATED_RESPONSE=DNS.prototype.TRUNCATED_RESPONSE=dnsPacket.TRUNCATED_RESPONSE,DNS.AUTHORITATIVE_ANSWER=DNS.prototype.AUTHORITATIVE_ANSWER=dnsPacket.AUTHORITATIVE_ANSWER,DNS.AUTHENTIC_DATA=DNS.prototype.AUTHENTIC_DATA=dnsPacket.AUTHENTIC_DATA,DNS.CHECKING_DISABLED=DNS.prototype.CHECKING_DISABLED=dnsPacket.CHECKING_DISABLED,DNS.prototype.address=function(){return this.socket.address()},DNS.prototype.bind=function(e,t){t&&this.once('listening',t),this.socket.bind(e)},DNS.prototype.destroy=function(e){if(e&&this.once('close',e),!this.destroyed){this.destroyed=!0,clearInterval(this._interval),this.socket.close();for(var t,o=0;o<this._queries.length;o++)t=this._queries[o],t&&t.callback(new Error('Socket destroyed'));this._queries=[],this._ids=[],this.inflight=0}},DNS.prototype._ontimeout=function(){for(var e,t=0;t<this._queries.length;t++)if(e=this._queries[t],e){if(!e.tries.length){this._queries[t]=null,this._ids[t]=0,this.inflight--,this.emit('timeout',e.query,e.port,e.host),e.callback(new Error('Query timed out'));continue}--e.tries[0]||(e.tries.shift(),this.socket.send(e.buffer,0,e.buffer.length,e.port,e.host))}this._trim()},DNS.prototype._onmessage=function(e,t){try{var o=dnsPacket.decode(e)}catch(e){return void this.emit('warning',e)}if('response'===o.type&&o.id){var r=this._ids.indexOf(o.id),n=-1<r?this._queries[r]:null;n&&(this.inflight--,this._ids[r]=0,this._queries[r]=null,this._trim(),n.callback(null,o,n.query,t.port,t.address))}this.emit(o.type,o,t.port,t.address)},DNS.prototype._trim=function(){for(;this._ids.length&&!this._ids[this._ids.length-1];)this._ids.pop(),this._queries.pop()},DNS.prototype.unref=function(){this.socket.unref()},DNS.prototype.ref=function(){this.socket.ref()},DNS.prototype.response=function(e,t,o,r){if(!this.destroyed){t.type='response',t.id=e.id;var n=dnsPacket.encode(t);this.socket.send(n,0,n.length,o,r||'127.0.0.1')}},DNS.prototype.cancel=function(e){var t=this._ids.indexOf(e),o=this._queries[t];o&&(this._queries[t]=null,this._ids[t]=0,this.inflight--,o.callback(new Error('Query cancelled')))},DNS.prototype.setRetries=function(e,t){var o=this._ids.indexOf(e),r=this._queries[o];if(r){for(;r.tries.length<t;)r.tries.push(r.tries.length?2*r.tries[r.tries.length-1]:4);r.tries.length>t&&(r.tries=r.tries.slice(0,t))}},DNS.prototype.query=function(e,t,o,r){if('function'==typeof o)return this.query(e,t,null,o);if(r||(r=noop),this.destroyed)return nextTick(r,new Error('Socket destroyed')),0;this.inflight++,e.type='query',e.flags='number'==typeof e.flags?e.flags:DNS.RECURSION_DESIRED;var n=e.id=this._id++;65535===this._id&&(this._id=1);var a=this._ids.indexOf(0);-1===a&&(a=this._ids.push(0)-1),this._queries.length===a&&this._queries.push(null);var i=dnsPacket.encode(e),s=this._triesArray.slice(0);return this._ids[a]=n,this._queries[a]={callback:r,tries:s,query:e,buffer:i,port:t,host:o},this.socket.send(i,0,i.length,t,o||'127.0.0.1'),n};function noop(){}function nextTick(e,t){process.nextTick(function(){e(t)})}function add(e,t){return e+t}function getTriesArray(e){var t=[];if(1>=e)return t;for(var o=1;o<=e-1;o++)t.push(Math.pow(2,o));return t}var ipRegex=createCommonjsModule(function(e){'use strict';const t='(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}',o='[0-9a-fA-F]{1,4}',r=`
(
(?:${o}:){7}(?:${o}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${o}:){6}(?:${t}|:${o}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${o}:){5}(?::${t}|(:${o}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${o}:){4}(?:(:${o}){0,1}:${t}|(:${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${o}:){3}(?:(:${o}){0,2}:${t}|(:${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${o}:){2}(?:(:${o}){0,3}:${t}|(:${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${o}:){1}(?:(:${o}){0,4}:${t}|(:${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${o}){0,5}:${t}|(?::${o}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,'').replace(/\n/g,'').trim(),n=e.exports=(e)=>e&&e.exact?new RegExp(`(?:^${t}$)|(?:^${r}$)`):new RegExp(`(?:${t})|(?:${r})`,'g');n.v4=(e)=>e&&e.exact?/^(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}$/:/(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}/g,n.v6=(e)=>e&&e.exact?new RegExp(`^${r}$`):new RegExp(r,'g')}),isIp_1=createCommonjsModule(function(e){'use strict';const t=e.exports=(e)=>ipRegex({exact:!0}).test(e);t.v4=(e)=>ipRegex.v4({exact:!0}).test(e),t.v6=(e)=>ipRegex.v6({exact:!0}).test(e)}),pify_1=createCommonjsModule(function(e){'use strict';var t=function(e,t,o){return function(){for(var r=this,n=Array(arguments.length),a=0;a<arguments.length;a++)n[a]=arguments[a];return new t(function(t,a){n.push(function(e,r){if(e)a(e);else if(o.multiArgs){for(var n=Array(arguments.length-1),s=1;s<arguments.length;s++)n[s-1]=arguments[s];t(n)}else t(r)}),e.apply(r,n)})}},o=e.exports=function(e,o,r){'function'!=typeof o&&(r=o,o=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var n=function(e){var t=function(t){return'string'==typeof t?e===t:t.test(e)};return r.include?r.include.some(t):!r.exclude.some(t)},a='function'==typeof e?function(){return r.excludeMain?e.apply(this,arguments):t(e,o,r).apply(this,arguments)}:{};return Object.keys(e).reduce(function(a,i){var s=e[i];return a[i]='function'==typeof s&&n(i)?t(s,o,r):s,a},a)};o.all=o}),publicIp=createCommonjsModule(function(e){'use strict';const t={timeout:5e3,https:!1},o={v4:{dnsServer:'208.67.222.222',dnsQuestion:{name:'myip.opendns.com',type:'A'},httpsUrl:'https://ipv4.icanhazip.com/'},v6:{dnsServer:'2620:0:ccc::2',dnsQuestion:{name:'myip.opendns.com',type:'AAAA'},httpsUrl:'https://ipv6.icanhazip.com/'}},r=(e,t)=>{const r=o[e],n=dnsSocket({retries:0,socket:dgram.createSocket('v6'===e?'udp6':'udp4'),timeout:t.timeout});return pify_1(n.query.bind(n))({questions:[r.dnsQuestion]},53,r.dnsServer).then((t)=>{n.destroy();const o=(t.answers[0]&&t.answers[0].data||'').trim();if(!o||!isIp_1[e](o))throw new Error('Couldn\'t find your IP');return o}).catch((e)=>{throw n.destroy(),e})},n=(e,t)=>{const r={family:'v6'===e?6:4,retries:0,timeout:t.timeout};return got_1(o[e].httpsUrl,r).then((e)=>{const t=(e.body||'').trim();if(!t)throw new Error('Couldn\'t find your IP');return t})};e.exports.v4=(e)=>(e=Object.assign({},t,e),e.https?n('v4',e):r('v4',e)),e.exports.v6=(e)=>(e=Object.assign({},t,e),e.https?n('v6',e):r('v6',e))}),indentString=createCommonjsModule(function(e){'use strict';e.exports=(e,t,o)=>{const r='object'==typeof o?Object.assign({indent:' '},o):{indent:o||' '};if(t=void 0===t?1:t,'string'!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if('number'!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if('string'!=typeof r.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;const n=r.includeEmptyLines?/^/mg:/^(?!\s*$)/mg;return e.replace(n,r.indent.repeat(t))}}),cleanStack=createCommonjsModule(function(e){'use strict';const t=/\s+at.*(?:\(|\s)(.*)\)?/,o=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/babel-polyfill\/.*)?\w+)\.js:\d+:\d+)|native)/,r=os.homedir();e.exports=(e,n)=>(n=Object.assign({pretty:!1},n),e.replace(/\\/g,'/').split('\n').filter((e)=>{const r=e.match(t);if(null===r||!r[1])return!0;const n=r[1];return n.includes('.app/Contents/Resources/electron.asar')||n.includes('.app/Contents/Resources/default_app.asar')?!1:!o.test(n)}).filter((e)=>''!==e.trim()).map((e)=>n.pretty?e.replace(t,(e,t)=>e.replace(t,t.replace(r,'~'))):e).join('\n'))});const cleanInternalStack=(e)=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,'');class AggregateError$1 extends Error{constructor(e){if(!e[Symbol.iterator]||'string'==typeof e)throw new TypeError(`Expected input to be iterable, got ${typeof e}`);e=Array.from(e).map((e)=>e instanceof Error?e:new Error(e));let t=e.map((e)=>cleanInternalStack(cleanStack(e.stack))).join('\n');t='\n'+indentString(t,4),super(t),this.name=this.constructor.name,Object.defineProperty(this,'_errors',{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}var aggregateError=AggregateError$1,pSome=createCommonjsModule(function(e){'use strict';e.exports=(e,t)=>new Promise((o,r)=>{if(t=Object.assign({},t),!Number.isFinite(t.count))throw new TypeError(`Expected a finite number, got ${typeof t.count}`);const n=[],a=[];let i=0,s=-t.count+1,p=-t.count+1,u=!1;const d=(e)=>u?void 0:'function'!=typeof t.filter||t.filter(e)?void(n.push(e),0==--t.count&&(u=!0,o(n))):void(0==--p&&(u=!0,r(new RangeError(`Not enough values pass the \`filter\` option`)))),c=(e)=>{u||(a.push(e),0==--s&&(u=!0,r(new aggregateError(a))))};for(const t of e)s++,p++,i++,Promise.resolve(t).then(d,c);if(t.count>i)throw new RangeError(`Expected input to contain at least ${t.count} items, but contains ${i} items`)}),e.exports.AggregateError=aggregateError});var pAny=(e,t)=>pSome(e,Object.assign({},t,{count:1})).then((e)=>e[0]),AggregateError=pSome.AggregateError;pAny.AggregateError=AggregateError;var pFinally=createCommonjsModule(function(e){'use strict';e.exports=(e,t)=>(t=t||(()=>{}),e.then((e)=>new Promise((e)=>{e(t())}).then(()=>e),(e)=>new Promise((e)=>{e(t())}).then(()=>{throw e})))}),pTimeout=createCommonjsModule(function(e){'use strict';class t extends Error{constructor(e){super(e),this.name='TimeoutError'}}e.exports=(e,o,r)=>new Promise((n,a)=>{if('number'!=typeof o&&0<=o)throw new TypeError('Expected `ms` to be a positive number');const i=setTimeout(()=>{if('function'==typeof r)return void n(r());const e='string'==typeof r?r:`Promise timed out after ${o} milliseconds`,i=r instanceof Error?r:new t(e);a(i)},o);pFinally(e.then(n,a),()=>{clearTimeout(i)})}),e.exports.TimeoutError=t}),isOnline=createCommonjsModule(function(e){'use strict';function t(e){return got_1('http://captive.apple.com/hotspot-detect.html',{family:'v4'===e.version?4:6,headers:{"User-Agent":'CaptiveNetworkSupport/1.0 wispr'}}).then((e)=>/Success/.test(e.body||'')||Promise.reject())}const o={timeout:5e3,version:'v4'};e.exports=(e)=>{e=Object.assign({},o,e);const r=pAny([publicIp[e.version]().then(()=>!0),publicIp[e.version]({https:!0}).then(()=>!0),t(e)]);return pTimeout(r,e.timeout).catch(()=>!1)}}),sanctuaryTypeIdentifiers=createCommonjsModule(function(e){(function(t){'use strict';e.exports=t()})(function(){'use strict';var e='@@type';return function(t){return null!=t&&null!=t.constructor&&t.constructor.prototype!==t&&'string'==typeof t.constructor[e]?t.constructor[e]:Object.prototype.toString.call(t).slice(8,-1)}})}),sanctuaryTypeClasses=createCommonjsModule(function(e){var t=Math.floor;(function(t){'use strict';e.exports=t(sanctuaryTypeIdentifiers)})(function(e){'use strict';function o(e){return function(t){return e.concat(t)}}function r(e){return function(){return e}}function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function a(e){return e}function i(e){return function(t){return[e,t]}}function s(t,o){return typeof t==typeof o&&e(t)===e(o)}function p(e){return{value:e,done:!1}}function u(e){return{value:e,done:!0}}function d(e,t,o,r){return this instanceof d?void(this.name=e,this.url=t,this.test=function(e){return o.every(function(t){return t.test(e)})&&r(e)}):new d(e,t,o,r)}function c(e,t,o){for(var r,a=o,i=0;i<t.length;i+=1){if(r=t[i],null==a||!(e||n(r,a)))return null;a=a[r]}return'function'==typeof a?a:null}function l(e,t){return c(!0,e,t)}function y(e){return c(!1,e,ne)}function f(t,o,r){function n(t){var o='fantasy-land/'+t;return r[t]===U?function(e){var t=l([o],e);return null==t&&'function'==typeof e?y([N(e),o]):t}:function(t){var r=null!=t&&null!=t.constructor&&t.constructor.prototype===t,n=null;return r||(n=l([o],t)),null==n&&(n=y([e(t),'prototype',o])),n&&n.bind(t)}}var a=Object.keys(r),i=d('sanctuary-type-classes/'+t,'https://github.com/sanctuary-js/sanctuary-type-classes/tree/v'+'6.1.0'+'#'+t,o,function(e){return a.every(function(t){var o=r[t]===U?e.constructor:e;return null!=n(t)(o)})});return i.methods=a.reduce(function(e,t){return e[t]=n(t),e},{}),i}function _(e){return[e]}function h(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t+=1)if(!ie(this[t],e[t]))return!1;return!0}function g(e){for(var t=0;;t+=1){if(t===this.length)return!0;if(t===e.length)return!1;if(!ie(this[t],e[t]))return se(this[t],e[t])}}function m(e){return this.concat(e)}function b(e){var t={};for(var o in this)t[o]=this[o];for(o in e)t[o]=e[o];return t}function E(e,t){return s(e,t)&&!se(t,e)}function v(e,t){return q.methods.concat(e)(t)}function S(e){return M.methods.empty(e)()}function F(e,t){return H.methods.map(t)(e)}function k(e,t){return G.methods.ap(t)(e)}function A(e,t,o){return k(F(e,t),o)}function R(e,t){return K.methods.of(e)(t)}function T(e,t){return $.methods.chain(t)(e)}function x(e,t){if(Array.isArray(t))return t.filter(function(t){return e(t)});var o=t.constructor;return C(function(t,r){return e(r)?v(t,R(o,r)):t},S(o),t)}function I(e){return Q.methods.zero(e)()}function C(e,t,o){return J.methods.reduce(o)(e,t)}function L(e,o){for(var r=C(function(o,r){for(var n,a=e(r),i=0,s=o.length;i<s;)n=t((i+s)/2),se(o[n].fx,a)?i=n+1:s=n;return o.splice(i,0,{x:r,fx:a}),o},[],o),n=o.constructor,a=S(n),i=0;i<r.length;i+=1)a=v(a,R(n,r[i].x));return a}function w(e,t,o){return ee.methods.traverse(o)(e,t)}d['@@type']='sanctuary-type-classes/TypeClass';var U='Constructor',O='Value',N='name'in function(){}?function(e){return e.name}:function(e){var t=/function (\w*)/.exec(e);return null==t?'':t[1]},P=f('Setoid',[],{equals:O}),j=f('Ord',[P],{lte:O}),B=f('Semigroupoid',[],{compose:O}),D=f('Category',[B],{id:U}),q=f('Semigroup',[],{concat:O}),M=f('Monoid',[q],{empty:U}),H=f('Functor',[],{map:O}),z=f('Bifunctor',[H],{bimap:O}),V=f('Profunctor',[H],{promap:O}),G=f('Apply',[H],{ap:O}),K=f('Applicative',[G],{of:U}),$=f('Chain',[G],{chain:O}),W=f('ChainRec',[$],{chainRec:U}),Y=f('Monad',[K,$],{}),X=f('Alt',[H],{alt:O}),Q=f('Plus',[X],{zero:U}),Z=f('Alternative',[K,Q],{}),J=f('Foldable',[],{reduce:O}),ee=f('Traversable',[H,J],{traverse:O}),te=f('Extend',[H],{extend:O}),oe=f('Comonad',[te],{extract:O}),re=f('Contravariant',[],{contramap:O}),ne={Null:{prototype:{toString:function(){return'null'},"fantasy-land/equals":function(){return!0},"fantasy-land/lte":function(){return!0}}},Undefined:{prototype:{toString:function(){return'undefined'},"fantasy-land/equals":function(){return!0},"fantasy-land/lte":function(){return!0}}},Boolean:{prototype:{toString:function(){return'object'==typeof this?'new Boolean('+ae(this.valueOf())+')':this.toString()},"fantasy-land/equals":function(e){return'object'==typeof this?ie(this.valueOf(),e.valueOf()):this===e},"fantasy-land/lte":function(e){return'object'==typeof this?se(this.valueOf(),e.valueOf()):!1===this||!0===e}}},Number:{prototype:{toString:function(){return'object'==typeof this?'new Number('+ae(this.valueOf())+')':1/this==-Infinity?'-0':this.toString(10)},"fantasy-land/equals":function(e){return'object'==typeof this?ie(this.valueOf(),e.valueOf()):isNaN(this)&&isNaN(e)||this===e},"fantasy-land/lte":function(e){return'object'==typeof this?se(this.valueOf(),e.valueOf()):isNaN(this)&&isNaN(e)||this<=e}}},Date:{prototype:{toString:function(){var e=isNaN(this.valueOf())?NaN:this.toISOString();return'new Date('+ae(e)+')'},"fantasy-land/equals":function(e){return ie(this.valueOf(),e.valueOf())},"fantasy-land/lte":function(e){return se(this.valueOf(),e.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(e){return e.source===this.source&&e.global===this.global&&e.ignoreCase===this.ignoreCase&&e.multiline===this.multiline&&e.sticky===this.sticky&&e.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return''},prototype:{toString:function(){return'object'==typeof this?'new String('+ae(this.valueOf())+')':JSON.stringify(this)},"fantasy-land/equals":function(e){return'object'==typeof this?ie(this.valueOf(),e.valueOf()):this===e},"fantasy-land/lte":function(e){return'object'==typeof this?se(this.valueOf(),e.valueOf()):this<=e},"fantasy-land/concat":function(e){return this+e}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":_,"fantasy-land/chainRec":function(e,t){for(var o=[t],r=[];0<o.length;){for(var n=e(p,u,o.shift()),a=[],i=0;i<n.length;i+=1)(n[i].done?r:a).push(n[i].value);Array.prototype.unshift.apply(o,a)}return r},"fantasy-land/zero":function(){return[]},prototype:{toString:function(){for(var e,t=this.map(ae),o=Object.keys(this).sort(),r=0;r<o.length;r+=1)e=o[r],/^\d+$/.test(e)||t.push(ae(e)+': '+ae(this[e]));return'['+t.join(', ')+']'},"fantasy-land/equals":h,"fantasy-land/lte":g,"fantasy-land/concat":m,"fantasy-land/map":function(e){return this.map(function(t){return e(t)})},"fantasy-land/ap":function(e){for(var t=[],o=0;o<e.length;o+=1)for(var r=0;r<this.length;r+=1)t.push(e[o](this[r]));return t},"fantasy-land/chain":function(e){var t=[];return this.forEach(function(o){Array.prototype.push.apply(t,e(o))}),t},"fantasy-land/alt":m,"fantasy-land/reduce":function(e,t){return this.reduce(function(t,o){return e(t,o)},t)},"fantasy-land/traverse":function(e,r){function a(p,u){switch(u){case 0:return R(e,[]);case 2:return A(i,r(s[p]),r(s[p+1]));default:var n=2*t(u/4);return A(o,a(p,n),a(p+n,u-n));}}var s=this;return 1==this.length%2?A(o,F(_,r(this[0])),a(1,this.length-1)):a(0,this.length)},"fantasy-land/extend":function(e){return this.map(function(t,o,r){return e(r.slice(o))})}}},Arguments:{prototype:{toString:function(){var e=Array.prototype.map.call(this,ae).join(', ');return'(function () { return arguments; }('+e+'))'},"fantasy-land/equals":function(e){return h.call(this,e)},"fantasy-land/lte":function(e){return g.call(this,e)}}},Error:{prototype:{toString:function(){return'new '+this.name+'('+ae(this.message)+')'},"fantasy-land/equals":function(e){return ie(this.name,e.name)&&ie(this.message,e.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{toString:function(){for(var e,t=[],o=Object.keys(this).sort(),r=0;r<o.length;r+=1)e=o[r],t.push(ae(e)+': '+ae(this[e]));return'{'+t.join(', ')+'}'},"fantasy-land/equals":function(e){var t=this,o=Object.keys(this).sort();return ie(o,Object.keys(e).sort())&&o.every(function(o){return ie(t[o],e[o])})},"fantasy-land/lte":function(e){for(var t=Object.keys(this).sort(),o=Object.keys(e).sort();;){if(0===t.length)return!0;if(0===o.length)return!1;var r=t.shift(),n=o.shift();if(r<n)return!0;if(r>n)return!1;if(!ie(this[r],e[r]))return se(this[r],e[r])}},"fantasy-land/concat":b,"fantasy-land/map":function(e){var t={};for(var o in this)t[o]=e(this[o]);return t},"fantasy-land/ap":function(e){var t={};for(var o in this)o in e&&(t[o]=e[o](this[o]));return t},"fantasy-land/alt":b,"fantasy-land/reduce":function(e,t){var o=this;return Object.keys(this).sort().reduce(function(t,r){return e(t,o[r])},t)},"fantasy-land/traverse":function(e,t){var o=this;return Object.keys(this).reduce(function(e,r){return A(function(e){return function(t){return e[r]=t,e}},e,t(o[r]))},R(e,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(e){return function(){return e}},"fantasy-land/chainRec":function(e,t){return function(o){for(var r=p(t);!r.done;)r=e(p,u,r.value)(o);return r.value}},prototype:{"fantasy-land/equals":function(e){return e===this},"fantasy-land/compose":function(e){var t=this;return function(o){return e(t(o))}},"fantasy-land/map":function(e){var t=this;return function(o){return e(t(o))}},"fantasy-land/promap":function(e,t){var o=this;return function(r){return t(o(e(r)))}},"fantasy-land/ap":function(e){var t=this;return function(o){return e(o)(t(o))}},"fantasy-land/chain":function(e){var t=this;return function(o){return e(t(o))(o)}},"fantasy-land/contramap":function(e){var t=this;return function(o){return t(e(o))}}}}},ae=function(){function t(e,t){o.push(t);try{return e.call(t)}finally{o.pop()}}var o=[];return function(r){if(0<=o.indexOf(r))return'<Circular>';var n=e(r);if('Object'===n){var a;try{a=t(r.toString,r)}catch(e){}if(null!=a&&'[object Object]'!==a)return a}return t(y([n,'prototype','toString'])||r.toString,r)}}(),ie=function(){var e=[];return function(t,o){if(!s(t,o))return!1;if(e.some(function(e){return e[0]===t&&e[1]===o}))return!0;e.push([t,o]);try{return P.test(t)&&P.test(o)&&P.methods.equals(t)(o)}finally{e.pop()}}}(),se=function(){var e=[];return function(t,o){if(!s(t,o))return!1;if(e.some(function(e){return e[0]===t&&e[1]===o}))return ie(t,o);e.push([t,o]);try{return j.test(t)&&j.test(o)&&j.methods.lte(t)(o)}finally{e.pop()}}}();return{TypeClass:d,Setoid:P,Ord:j,Semigroupoid:B,Category:D,Semigroup:q,Monoid:M,Functor:H,Bifunctor:z,Profunctor:V,Apply:G,Applicative:K,Chain:$,ChainRec:W,Monad:Y,Alt:X,Plus:Q,Alternative:Z,Foldable:J,Traversable:ee,Extend:te,Comonad:oe,Contravariant:re,toString:ae,equals:ie,lt:E,lte:se,gt:function(e,t){return E(t,e)},gte:function(e,t){return se(t,e)},min:function(e,t){return se(e,t)?e:t},max:function(e,t){return se(e,t)?t:e},compose:function(e,t){return B.methods.compose(t)(e)},id:function(e){return D.methods.id(e)()},concat:v,empty:S,map:F,bimap:function(e,t,o){return z.methods.bimap(o)(e,t)},promap:function(e,t,o){return V.methods.promap(o)(e,t)},ap:k,lift2:A,lift3:function(e,t,o,r){return k(k(F(e,t),o),r)},apFirst:function(e,t){return A(r,e,t)},apSecond:function(e,t){return A(r(a),e,t)},of:R,append:function(e,t){return v(t,R(t.constructor,e))},prepend:function(e,t){return v(R(t.constructor,e),t)},chain:T,join:function(e){return T(a,e)},chainRec:function(e,t,o){return W.methods.chainRec(e)(t,o)},filter:x,filterM:function(e,t){var o=t.constructor,r=I(o);return T(function(t){return e(t)?R(o,t):r},t)},alt:function(e,t){return X.methods.alt(e)(t)},zero:I,reduce:C,size:function(e){return Array.isArray(e)?e.length:C(function(e){return e+1},0,e)},elem:function(e,t){return C(function(t,o){return t||ie(e,o)},!1,t)},reverse:function(e){if(Array.isArray(e))return e.slice().reverse();var t=e.constructor;return C(function(e,o){return v(R(t,o),e)},S(t),e)},sort:function(e){return L(a,e)},sortBy:L,takeWhile:function(e,t){var o=!0;return x(function(t){return o=o&&e(t)},t)},dropWhile:function(e,t){var o=!1;return x(function(t){return o=o||!e(t)},t)},traverse:w,sequence:function(e,t){return w(e,a,t)},extend:function(e,t){return te.methods.extend(t)(e)},extract:function(e){return oe.methods.extract(e)()},contramap:function(e,t){return re.methods.contramap(t)(e)}}})}),inspectF=createCommonjsModule(function(e){(function(t,o){'use strict';e.exports=o()})(commonjsGlobal||window||commonjsGlobal,function(){'use strict';function e(e){if('number'!=typeof e)throw new TypeError('inspectf expects its first argument to be a number')}function t(e){if('function'!=typeof e)throw new TypeError('inspectf expects its second argument to be a function')}function o(e){return d.test(e)}function r(e){return e.match(i)[0].length}function n(e){var t=e.filter(o),n=t.map(r),a=n.reduce(Math.min,Infinity),i=n.map(function(e){return e-a}).find(function(e){return 1<e})||2;return{depth:a,tabsize:i}}function a(e){return Array(e+1).join(' ')}function s(e,t){return e.toString().replace(c,t)}function p(e){return e.split(l)}function u(e,t){var o=n(e.slice(1)),i=new RegExp(a(o.tabsize),'g');return e.map(function(e){return e.slice(Math.min(o.depth,r(e))).replace(i,'\t').replace(c,t)}).join('\n')}var i=/^ */,d=/\s*[^\s]/,c=/\t/g,l=/\n\r?/;return function o(r,n){if(e(r),2>arguments.length)return function(e){return o(r,e)};if(t(n),n.toString!==Function.prototype.toString)return n.toString();var d=a(r),i=s(n,d),c=p(i,d);return 2>c.length?i:u(c,d)}})}),sanctuaryTypeIdentifiers$2=createCommonjsModule(function(e){(function(t){'use strict';e.exports=t()})(function(){'use strict';function e(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&'string'==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice(8,-1)}var t='@@type',o=/^([\s\S]+)\/([\s\S]+?)(?:@([0-9]+))?$/;return e.parse=function(e){var t=o.exec(e);return{namespace:null==t||null==t[1]?null:t[1],name:null==t?e:t[2],version:null==t||null==t[3]?0:+t[3]}},e})}),concurrify=createCommonjsModule(function(e){(function(t,o){'use strict';e&&!0?e.exports=o(sanctuaryTypeClasses,sanctuaryTypeIdentifiers$2):t.concurrify=o(t.sanctuaryTypeClasses,t.sanctuaryTypeIdentifiers)})(commonjsGlobal||window||commonjsGlobal,function(e,t){'use strict';function o(e){return'function'==typeof e}function r(e){return 2<=e.length}function n(t){try{return e.Applicative.test(e.of(t))}catch(e){return!1}}function a(t,o,r,n){throw new TypeError(t+' expects its '+d[o]+' argument to '+r+'\n  Actual: '+e.toString(n))}function i(t,o,r){throw new TypeError(t+' was invoked outside the context of a '+r+'. \n  Called on: '+e.toString(o))}function s(e){return e[u]||e.name||'Anonymous'}function p(e){var r=t.parse(e);return(r.namespace||'concurrify')+'/Concurrent'+r.name+'@'+r.version}var u='@@type',d=['first','second','third','fourth','fifth'];return function(d,c,l,y){function f(e){this.sequential=e}function _(e){return e instanceof d||!!e&&e.constructor===d||t(e)===d[u]}function h(e){return e instanceof f||!!e&&e.constructor===f||t(e)===b}function g(e){return _(e)||a(v,0,'be of type "'+E+'"',e),new f(e)}var m=s(d),b=p(m),E=t.parse(m).name,v=t.parse(b).name;n(d)||a('concurrify',0,'represent an Applicative',d),_(c)||a('concurrify',1,'be of type "'+E+'"',c),o(l)||a('concurrify',2,'be a function',l),r(l)||a('concurrify',2,'be binary',l),o(y)||a('concurrify',3,'be a function',y),r(y)||a('concurrify',3,'be binary',y);var S=f.prototype=g.prototype={constructor:g};g[u]=b;var F=new f(c);return g['fantasy-land/zero']=function(){return F},g['fantasy-land/of']=function(t){return new f(e.of(d,t))},S['fantasy-land/map']=function(t){return h(this)||i(v+'#map',this,v),o(t)||a(v+'#map',0,'be a function',t),new f(e.map(t,this.sequential))},S['fantasy-land/ap']=function(e){return h(this)||i(v+'#ap',this,v),h(e)||a(v+'#ap',0,'be a '+v,e),new f(y(this.sequential,e.sequential))},S['fantasy-land/alt']=function(e){return h(this)||i(v+'#alt',this,v),h(e)||a(v+'#alt',0,'be a '+v,e),new f(l(this.sequential,e.sequential))},S.toString=function(){return h(this)||i(v+'#toString',this,v),v+'('+e.toString(this.sequential)+')'},g}})});function Denque(e){this._list=[,,,,],this._capacityMask=3,this._head=0,this._tail=0,Array.isArray(e)&&this._fromArray(e)}Denque.prototype.peekAt=function(e){var t=e;if(t===(0|t)){var o=this.size();if(!(t>=o||t<-o))return 0>t&&(t+=o),t=this._head+t&this._capacityMask,this._list[t]}},Denque.prototype.get=function(e){return this.peekAt(e)},Denque.prototype.peek=function(){return this._head===this._tail?void 0:this._list[this._head]},Denque.prototype.peekFront=function(){return this.peek()},Denque.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(Denque.prototype,'length',{get:function(){return this.size()}}),Denque.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Denque.prototype.unshift=function(e){if(void 0===e)return this.length;var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Denque.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,2>e&&1e4<this._tail&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},Denque.prototype.push=function(e){if(void 0===e)return this.length;var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Denque.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var o=this._list[this._tail];return this._list[this._tail]=void 0,2>this._head&&1e4<e&&e<=t>>>2&&this._shrinkArray(),o}},Denque.prototype.removeOne=function(e){var t=e;if(t===(0|t)&&this._head!==this._tail){var o=this.size(),r=this._list.length;if(!(t>=o||t<-o)){0>t&&(t+=o),t=this._head+t&this._capacityMask;var n,a=this._list[t];if(e<o/2){for(n=e;0<n;n--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(n=o-1-e;0<n;n--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return a}}},Denque.prototype.remove=function(e,t){var o,r=e,n=t;if(r===(0|r)&&this._head!==this._tail){var a=this.size(),i=this._list.length;if(!(r>=a||r<-a||1>t)){if(0>r&&(r+=a),1===t||!t)return o=[,],o[0]=this.removeOne(r),o;if(0===r&&r+t>=a)return o=this.toArray(),this.clear(),o;r+t>a&&(t=a-r);var s;for(o=Array(t),s=0;s<t;s++)o[s]=this._list[this._head+r+s&this._capacityMask];if(r=this._head+r&this._capacityMask,e+t===a){for(this._tail=this._tail-t+i&this._capacityMask,s=t;0<s;s--)this._list[r=r+1+i&this._capacityMask]=void 0;return o}if(0===e){for(this._head=this._head+t+i&this._capacityMask,s=t-1;0<s;s--)this._list[r=r+1+i&this._capacityMask]=void 0;return o}if(e<a/2){for(this._head=this._head+e+t+i&this._capacityMask,s=e;0<s;s--)this.unshift(this._list[r=r-1+i&this._capacityMask]);for(r=this._head-1+i&this._capacityMask;0<n;)this._list[r=r-1+i&this._capacityMask]=void 0,n--}else{for(this._tail=r,r=r+t+i&this._capacityMask,s=a-(t+e);0<s;s--)this.push(this._list[r++]);for(r=this._tail;0<n;)this._list[r=r+1+i&this._capacityMask]=void 0,n--}return 2>this._head&&1e4<this._tail&&this._tail<=i>>>2&&this._shrinkArray(),o}}},Denque.prototype.splice=function(e,t){var o=e,r=this.size();if(o===(0|o)&&this._head!==this._tail&&!(o>r||o<-r)&&(o!==r||0==t)){if(0>o&&(o+=r),2<arguments.length){var n,a,i,s=arguments.length,p=this._list.length,u=2;if(o<r/2){for(a=Array(o),n=0;n<o;n++)a[n]=this._list[this._head+n&this._capacityMask];for(0===t?(i=[],0<o&&(this._head=this._head+o+p&this._capacityMask)):(i=this.remove(o,t),this._head=this._head+o+p&this._capacityMask);s>u;)this.unshift(arguments[--s]);for(n=o;0<n;n--)this.unshift(a[n-1])}else{a=Array(r-(o+t));var d=a.length;for(n=0;n<d;n++)a[n]=this._list[this._head+o+t+n&this._capacityMask];for(0===t?(i=[],o!=r&&(this._tail=this._head+o+p&this._capacityMask)):(i=this.remove(o,t),this._tail=this._tail-d+p&this._capacityMask);u<s;)this.push(arguments[u++]);for(n=0;n<d;n++)this.push(a[n])}return i}return this.remove(o,t)}},Denque.prototype.clear=function(){this._head=0,this._tail=0},Denque.prototype.isEmpty=function(){return this._head===this._tail},Denque.prototype.toArray=function(){return this._copyArray(!1)},Denque.prototype._fromArray=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},Denque.prototype._copyArray=function(e){var t,o=[],r=this._list,n=r.length;if(e||this._head>this._tail){for(t=this._head;t<n;t++)o.push(r[t]);for(t=0;t<this._tail;t++)o.push(r[t])}else for(t=this._head;t<this._tail;t++)o.push(r[t]);return o},Denque.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=1|this._capacityMask<<1},Denque.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};var denque=Denque,fluture=createCommonjsModule(function(e){(function(t,o){e.exports=o(sanctuaryTypeClasses,inspectF,sanctuaryTypeIdentifiers$2,concurrify,denque)})(commonjsGlobal,function(e,t,o,r,n){'use strict';function a(){}function i(){return this}function s(e,t){return t.replace(/^/gm,e).replace(e,'')}function u(e){return s('  ',t(2,e))}function p(e,t){for(var o=e.length,r=Array(o),n=0;n<o;n++)r[n]=t(e[n],n,e);return r}function d(e,t){return function(o,r,n){switch(arguments.length){case 1:return e(t,o);case 2:return e(t,o,r);default:return e(t,o,r,n);}}}function c(e,t,o){return function(r,n){return 1===arguments.length?e(t,o,r):e(t,o,r,n)}}function l(e,t,o,r){return function(n){return e(t,o,r,n)}}function y(e){return function(t){return Lt(e,t)}}function f(e){throw new Error(e)}function _(e){throw new TypeError(e)}function h(e,t,o,r){_(e+' expects its '+Ot[t]+' argument to '+o+'\n  Actual: '+wt(r))}function g(e,t){_(e+' was invoked outside the context of a Future. You might want to use a dispatcher instead\n  Called on: '+wt(t))}function b(e,t){return'The Future was not created by '+Nt+'. Make sure you transform other Futures to '+Nt+' Futures. Got '+(t?'a Future from '+t:'an unscoped Future')+'.\n  See: https://github.com/fluture-js/Fluture#casting-futures'}function E(e,t){return'The Future was created by '+(t<jt?'an older':'a newer')+' version of '+Nt+'. This means that one of the sources which creates Futures is outdated. Update this source, or transform its created Futures to be compatible.\n  See: https://github.com/fluture-js/Fluture#casting-futures'}function v(e,t,r,n){var a=o.parse(o(r)),i=a.name===Pt?'\n'+(a.namespace===Nt?a.version===jt?'Nothing seems wrong. Contact the Fluture maintainers.':E(r,a.version):b(r,a.namespace)):'';_(e+' expects '+(Ot[t]?'its '+Ot[t]+' argument to be a valid Future':t)+'.'+i+'\n  Actual: '+wt(r)+' :: '+a.name+(n||''))}function S(e){return'function'==typeof e}function m(e){return e instanceof Promise||!!e&&S(e.then)}function F(e){return'boolean'==typeof e}function k(e){return'number'==typeof e}function A(e){return e===Infinity||k(e)&&0<e&&0==e%1}function R(e){return null!==e&&'object'==typeof e}function T(e){return R(e)&&S(e.next)}function x(e){return Array.isArray(e)}function I(e,t){return{isEmpty:!1,size:t.size+1,head:e,tail:t}}function C(e){f('Future#value was called on a rejected Future\n  Actual: Future.reject('+wt(e)+')')}function L(e){return S(e)||h('Future',0,'be a Function',e),new O(e)}function w(e){return e instanceof L||o(e)===Bt}function U(e,t){e===void 0||S(e)&&0===e.length||_('Future expected its computation to return a nullary function or void\n  Actual: '+wt(e)+'\n  From calling: '+u(t))}function O(e){this._computation=e}function N(e){this._value=e}function P(e){return new N(e)}function j(e){this._value=e}function B(e){return new j(e)}function D(){this._isNever=!0}function q(e){return w(e)&&!0===e._isNever}function M(e){var t=this;t.rej=a,t.res=a,t.rejected=!1,t.resolved=!1,t.value=null,t.cancel=e._fork(function(e){t.value=e,t.rejected=!0,t.cancel=a,t.rej(e)},function(e){t.value=e,t.resolved=!0,t.cancel=a,t.res(e)})}function H(e){return S(e)?e:_('Future#ap expects its first argument to be a Future of a Function\n  Actual: Future.of('+wt(e)+')')}function z(e,t,o){return w(e)?e:v('Future#chain','the function it\'s given to return a Future',e,'\n  From calling: '+u(t)+'\n  With: '+wt(o))}function V(e,t,o){return w(e)?e:v('Future#chainRej','the function it\'s given to return a Future',e,'\n  From calling: '+u(t)+'\n  With: '+wt(o))}function G(e){this.other=e}function K(e){this.mapper=e}function $(e,t){this.lmapper=e,this.rmapper=t}function W(e){this.mapper=e}function Y(e){this.mapper=e}function X(e){this.mapper=e}function Q(){}function Z(e,t){this.lmapper=e,this.rmapper=t}function J(e){this.other=e}function ee(e){this.other=e}function te(e){this.other=e}function oe(e){this.other=e}function re(e){this.other=e}function ne(e,t){var o=this;o.other=t,o.cancel=t._fork(function(t){e(new N(t),o)},function(t){e(new j(t),o)})}function ae(e,t){var o=this;o.other=t,o.cancel=t._fork(function(t){e(new N(t),o)},a)}function ie(e,t){this._spawn=e,this._actions=t||Dt}function se(e){return{done:!1,value:e}}function pe(e){return{done:!0,value:e}}function ue(e){return R(e)&&F(e.done)}function de(e,t){this._step=e,this._init=t}function ce(t,o){return e.Apply.test(o)||h('Future.ap',1,'be an Apply',o),e.ap(t,o)}function le(t,o){return e.Apply.test(t)||h('Future.ap',0,'be an Apply',t),1===arguments.length?d(ce,t):ce(t,o)}function ye(t,o){return e.Alt.test(o)||h('alt',1,'be an Alt',o),e.alt(t,o)}function fe(t,o){return e.Alt.test(t)||h('alt',0,'be an Alt',t),1===arguments.length?d(ye,t):ye(t,o)}function _e(t,o){return e.Functor.test(o)||h('Future.map',1,'be a Functor',o),e.map(t,o)}function he(e,t){return S(e)||h('Future.map',0,'be a Function',e),1===arguments.length?d(_e,e):_e(e,t)}function ge(t,o,r){return e.Bifunctor.test(r)||h('Future.bimap',2,'be a Bifunctor',r),e.bimap(t,o,r)}function me(e,t,o){return S(t)||h('Future.bimap',1,'be a Function',t),2===arguments.length?c(ge,e,t):ge(e,t,o)}function be(e,t,o){return S(e)||h('Future.bimap',0,'be a Function',e),1===arguments.length?d(me,e):2===arguments.length?me(e,t):me(e,t,o)}function Ee(t,o){return e.Chain.test(o)||h('Future.chain',1,'be a Chain',o),e.chain(t,o)}function ve(e,t){return S(e)||h('Future.chain',0,'be a Function',e),1===arguments.length?d(Ee,e):Ee(e,t)}function Se(e,t){return w(t)||v('Future.mapRej',1,t),t.mapRej(e)}function Fe(e,t){return w(t)||v('Future.chainRej',1,t),t.chainRej(e)}function ke(e,t){return w(t)||v('Future.finally',1,t),t.finally(e)}function Ae(e,t){return w(e)||v('Future.finally',0,e),1===arguments.length?d(ke,e):ke(e,t)}function Re(e,t){return w(t)||v('Future.and',1,t),e.and(t)}function Te(e,t){return w(t)||v('Future.both',1,t),e.both(t)}function xe(e,t){return w(t)||v('Future.or',1,t),e.or(t)}function Ie(e,t){return w(t)||v('Future.race',1,t),t.race(e)}function Ce(e,t){return w(e)||v('Future.race',0,e),1===arguments.length?d(Ie,e):Ie(e,t)}function Le(e,t,o){return w(o)||v('Future.fold',2,o),o.fold(e,t)}function we(e,t,o){return S(t)||h('Future.fold',1,'be a function',t),2===arguments.length?c(Le,e,t):Le(e,t,o)}function Ue(e,t){return w(t)||v('Future.done',1,t),t.done(e)}function Oe(e,t,o){return w(o)||v('Future.fork',2,o),o._fork(e,t)}function Ne(e,t,o){return S(t)||h('Future.fork',1,'be a function',t),2===arguments.length?c(Oe,e,t):Oe(e,t,o)}function Pe(e,t){return w(t)||v('Future.value',1,t),t.value(e)}function je(e){S(e)||_('Future#ap expects its first argument to be a Future of a Function\n  Actual: Future.of('+wt(e)+')')}function Be(e,t){this._mval=e,this._mfunc=t}function De(e){return e.isSettled()?e:q(e)?this:'number'==typeof e._time?e._time<this._time?e:this:qt._race.call(this,e)}function qe(e,t){this._time=e,this._value=t}function Me(e,t){this._time=e,this._value=t}function He(e,t){return e===Infinity?Mt:new qe(e,t)}function ze(e,t){return e===Infinity?Mt:new Me(e,t)}function Ve(e){this._fn=e}function Ge(e){return S(e)||h('Future.try',0,'be a function',e),new Ve(e)}function Ke(e,t){this[Wt]=e,this[Yt]=t}function $e(e){this._pure=e,this.reset()}function We(e,t){this._fn=e,this._a=t}function Ye(e,t){return S(e)||h('Future.encase',0,'be a function',e),1===arguments.length?d(Ye,e):new We(e,t)}function Xe(e,t,o){this._fn=e,this._a=t,this._b=o}function Qe(e,t,o){switch(S(e)||h('Future.encase2',0,'be a function',e),arguments.length){case 1:return d(Qe,e);case 2:return c(Qe,e,t);default:return new Xe(e,t,o);}}function Ze(e,t,o,r){this._fn=e,this._a=t,this._b=o,this._c=r}function Je(e,t,o,r){switch(S(e)||h('Future.encase3',0,'be a function',e),arguments.length){case 1:return d(Je,e);case 2:return c(Je,e,t);case 3:return l(Je,e,t,o);default:return new Ze(e,t,o,r);}}function et(e,t){this._fn=e,this._a=t}function tt(e,t){return S(e)||h('Future.encaseN',0,'be a function',e),1===arguments.length?d(tt,e):new et(e,t)}function ot(e,t,o){this._fn=e,this._a=t,this._b=o}function rt(e,t,o){switch(S(e)||h('Future.encaseN2',0,'be a function',e),arguments.length){case 1:return d(rt,e);case 2:return c(rt,e,t);default:return new ot(e,t,o);}}function nt(e,t,o,r){this._fn=e,this._a=t,this._b=o,this._c=r}function at(e,t,o,r){switch(S(e)||h('Future.encaseN3',0,'be a function',e),arguments.length){case 1:return d(at,e);case 2:return c(at,e,t);case 3:return l(at,e,t,o);default:return new nt(e,t,o,r);}}function it(e,t,o){return m(e)?e:_('Future.encaseP expects the function it\'s given to return a Promise/Thenable\n  Actual: '+wt(e)+'\n  From calling: '+u(t)+'\n  With: '+wt(o))}function st(e,t){this._fn=e,this._a=t}function pt(e,t){return S(e)||h('Future.encaseP',0,'be a function',e),1===arguments.length?d(pt,e):new st(e,t)}function ut(e,t,o,r){return m(e)?e:_('Future.encaseP2 expects the function it\'s given to return a Promise/Thenable\n  Actual: '+wt(e)+'\n  From calling: '+u(t)+'\n  With 1: '+wt(o)+'\n  With 2: '+wt(r))}function dt(e,t,o){this._fn=e,this._a=t,this._b=o}function ct(e,t,o){switch(S(e)||h('Future.encaseP2',0,'be a function',e),arguments.length){case 1:return d(ct,e);case 2:return c(ct,e,t);default:return new dt(e,t,o);}}function lt(e,t,o,r,n){return m(e)?e:_('Future.encaseP3 expects the function it\'s given to return a Promise/Thenable\n  Actual: '+wt(e)+'\n  From calling: '+u(t)+'\n  With 1: '+wt(o)+'\n  With 2: '+wt(r)+'\n  With 3: '+wt(n))}function yt(e,t,o,r){this._fn=e,this._a=t,this._b=o,this._c=r}function ft(e,t,o,r){switch(S(e)||h('Future.encaseP3',0,'be a function',e),arguments.length){case 1:return d(ft,e);case 2:return c(ft,e,t);case 3:return l(ft,e,t,o);default:return new yt(e,t,o,r);}}function _t(e){return T(e)?e:h('Future.do',0,'return an iterator, maybe you forgot the "*"',e)}function ht(e){return ue(e)||_('Future.do was given an invalid generator: Its iterator did not return a valid iteration from iterator.next()\n  Actual: '+wt(e)),e.done||w(e.value)?e:v('Future.do','the iterator to produce only valid Futures',e.value,'\n  Tip: If you\'re using a generator, make sure you always yield a Future')}function gt(e){this._generator=e}function mt(e){return S(e)||h('Future.do',0,'be a Function',e),new gt(e)}function bt(e,t,o){w(e)||v('Future.hook','the first function it\'s given to return a Future',e,'\n  From calling: '+u(t)+'\n  With: '+wt(o))}function Et(e,t,o){w(e)||v('Future.hook','the second function it\'s given to return a Future',e,'\n  From calling: '+u(t)+'\n  With: '+wt(o))}function vt(e,t,o){this._acquire=e,this._dispose=t,this._consume=o}function St(e,t,o){return S(o)||h('Future.hook',2,'be a Future',o),new vt(e,t,o)}function Ft(e,t,o){return S(t)||h('Future.hook',1,'be a function',t),2===arguments.length?c(St,e,t):St(e,t,o)}function kt(e){this._fn=e}function At(e,t){return w(e)?e:v('Future.parallel','its second argument to be an array of valid Futures. The value at position '+t+' in the array is not a Future',e)}function Rt(e,t){this._futures=t,this._length=t.length,this._max=Math.min(this._length,e)}function Tt(e,t){x(t)||h('Future.parallel',1,'be an array',t);var o=p(t,At);return 0===o.length?Xt:new Rt(e,o)}function xt(e,t){return m(e)?e:_('Future.tryP expects the function it\'s given to return a Promise/Thenable\n  Actual: '+wt(e)+'\n  From calling: '+u(t))}function It(e){this._fn=e}function Ct(e){return e instanceof Qt||o(e)===Qt['@@type']}e=e&&e.hasOwnProperty('default')?e['default']:e,t=t&&t.hasOwnProperty('default')?t['default']:t,o=o&&o.hasOwnProperty('default')?o['default']:o,r=r&&r.hasOwnProperty('default')?r['default']:r,n=n&&n.hasOwnProperty('default')?n['default']:n;var Lt='function'==typeof commonjsGlobal.setImmediate?commonjsGlobal.setImmediate:function(e,t){return setTimeout(e,0,t)},wt=e.toString,Ut={map:'fantasy-land/map',bimap:'fantasy-land/bimap',chain:'fantasy-land/chain',chainRec:'fantasy-land/chainRec',ap:'fantasy-land/ap',of:'fantasy-land/of',zero:'fantasy-land/zero'},Ot=['first','second','third','fourth','fifth'],Nt='fluture',Pt='Future',jt=3,Bt=Nt+'/'+Pt+'@'+jt,Dt={isEmpty:!0,size:0,head:null,tail:null};L['@@type']=Bt,L.prototype[Ut.ap]=function(e){return e._ap(this)},L.prototype[Ut.map]=function(e){return this._map(e)},L.prototype[Ut.bimap]=function(e,t){return this._bimap(e,t)},L.prototype[Ut.chain]=function(e){return this._chain(e)},L.prototype.ap=function(e){return w(this)||g('Future#ap',this),w(e)||v('Future#ap',0,e),this._ap(e)},L.prototype.map=function(e){return w(this)||g('Future#map',this),S(e)||h('Future#map',0,'to be a Function',e),this._map(e)},L.prototype.bimap=function(e,t){return w(this)||g('Future#bimap',this),S(e)||h('Future#bimap',0,'to be a Function',e),S(t)||h('Future#bimap',1,'to be a Function',t),this._bimap(e,t)},L.prototype.chain=function(e){return w(this)||g('Future#chain',this),S(e)||h('Future#chain',0,'to be a Function',e),this._chain(e)},L.prototype.mapRej=function(e){return w(this)||g('Future#mapRej',this),S(e)||h('Future#mapRej',0,'to be a Function',e),this._mapRej(e)},L.prototype.chainRej=function(e){return w(this)||g('Future#chainRej',this),S(e)||h('Future#chainRej',0,'to be a Function',e),this._chainRej(e)},L.prototype.race=function(e){return w(this)||g('Future#race',this),w(e)||v('Future#race',0,e),this._race(e)},L.prototype.both=function(e){return w(this)||g('Future#both',this),w(e)||v('Future#both',0,e),this._both(e)},L.prototype.and=function(e){return w(this)||g('Future#and',this),w(e)||v('Future#and',0,e),this._and(e)},L.prototype.or=function(e){return w(this)||g('Future#or',this),w(e)||v('Future#or',0,e),this._or(e)},L.prototype.swap=function(){return w(this)||g('Future#ap',this),this._swap()},L.prototype.fold=function(e,t){return w(this)||g('Future#ap',this),S(e)||h('Future#fold',0,'to be a Function',e),S(t)||h('Future#fold',1,'to be a Function',t),this._fold(e,t)},L.prototype.finally=function(e){return w(this)||g('Future#finally',this),w(e)||v('Future#finally',0,e),this._finally(e)},L.prototype.lastly=function(e){return w(this)||g('Future#lastly',this),w(e)||v('Future#lastly',0,e),this._finally(e)},L.prototype.fork=function(e,t){return w(this)||g('Future#fork',this),S(e)||h('Future#fork',0,'to be a Function',e),S(t)||h('Future#fork',0,'to be a Function',t),this._fork(e,t)},L.prototype.value=function(e){return w(this)||g('Future#value',this),S(e)||h('Future#value',0,'to be a Function',e),this._fork(C,e)},L.prototype.done=function(e){return w(this)||g('Future#done',this),S(e)||h('Future#done',0,'to be a Function',e),this._fork(function(t){e(t)},function(t){e(null,t)})},L.prototype.promise=function(){var e=this;return new Promise(function(t,o){e._fork(o,t)})},L.prototype.isRejected=function(){return!1},L.prototype.isResolved=function(){return!1},L.prototype.isSettled=function(){return this.isRejected()||this.isResolved()},L.prototype.extractLeft=function(){return[]},L.prototype.extractRight=function(){return[]};var qt=Object.create(L.prototype);qt._ap=function(e){return new ie(this)._ap(e)},qt._map=function(e){return new ie(this)._map(e)},qt._bimap=function(e,t){return new ie(this)._bimap(e,t)},qt._chain=function(e){return new ie(this)._chain(e)},qt._mapRej=function(e){return new ie(this)._mapRej(e)},qt._chainRej=function(e){return new ie(this)._chainRej(e)},qt._race=function(e){return new ie(this)._race(e)},qt._both=function(e){return new ie(this)._both(e)},qt._and=function(e){return new ie(this)._and(e)},qt._or=function(e){return new ie(this)._or(e)},qt._swap=function(){return new ie(this)._swap()},qt._fold=function(e,t){return new ie(this)._fold(e,t)},qt._finally=function(e){return new ie(this)._finally(e)},O.prototype=Object.create(qt),O.prototype._fork=function(e,t){var o=!0,r=this._computation(function(t){o&&(o=!1,e(t))},function(e){o&&(o=!1,t(e))});return U(r,this._computation),function(){o&&r&&r(),o=!1}},O.prototype.toString=function(){return'Future('+u(this._computation)+')'},N.prototype=Object.create(qt),N.prototype._ap=i,N.prototype._map=i,N.prototype._chain=i,N.prototype._race=i,N.prototype._both=i,N.prototype._and=i,N.prototype._or=function(e){return e},N.prototype._finally=function(e){return e._and(this)},N.prototype._swap=function(){return new j(this._value)},N.prototype._fork=function(e){return e(this._value),a},N.prototype.isRejected=function(){return!0},N.prototype.extractLeft=function(){return[this._value]},N.prototype.toString=function(){return'Future.reject('+wt(this._value)+')'},j.prototype=Object.create(qt),j.prototype._race=i,j.prototype._mapRej=i,j.prototype._or=i,j.prototype._and=function(e){return e},j.prototype._both=function(e){var t=this._value;return e._map(function(e){return[t,e]})},j.prototype._swap=function(){return new N(this._value)},j.prototype._finally=function(e){var t=this._value;return e._map(function(){return t})},j.prototype._fork=function(e,t){return t(this._value),a},j.prototype.isResolved=function(){return!0},j.prototype.extractRight=function(){return[this._value]},j.prototype.toString=function(){return'Future.of('+wt(this._value)+')'},D.prototype=Object.create(L.prototype),D.prototype._ap=i,D.prototype._map=i,D.prototype._bimap=i,D.prototype._chain=i,D.prototype._mapRej=i,D.prototype._chainRej=i,D.prototype._both=i,D.prototype._or=i,D.prototype._swap=i,D.prototype._fold=i,D.prototype._finally=i,D.prototype._race=function(e){return e},D.prototype._fork=function(){return a},D.prototype.toString=function(){return'Future.never'};var Mt=new D;M.prototype=Object.create(qt),M.prototype._fork=function(e,t){return this.rejected?e(this.value):this.resolved?t(this.value):(this.rej=e,this.res=t),this.cancel};var Ht={rejected:function(e){return this.cancel(),new N(e)},resolved:function(e){return this.cancel(),new j(e)},run:function(){return this},cancel:function(){}};G.prototype=Object.create(Ht),G.prototype.resolved=function(e){return H(e),this.other._map(function(t){return e(t)})},G.prototype.toString=function(){return'ap('+this.other.toString()+')'},K.prototype=Object.create(Ht),K.prototype.resolved=function(e){return new j(this.mapper(e))},K.prototype.toString=function(){return'map('+u(this.mapper)+')'},$.prototype=Object.create(Ht),$.prototype.rejected=function(e){return new N(this.lmapper(e))},$.prototype.resolved=function(e){return new j(this.rmapper(e))},$.prototype.toString=function(){return'bimap('+u(this.lmapper)+', '+u(this.rmapper)+')'},W.prototype=Object.create(Ht),W.prototype.resolved=function(e){return z(this.mapper(e),this.mapper,e)},W.prototype.toString=function(){return'chain('+u(this.mapper)+')'},Y.prototype=Object.create(Ht),Y.prototype.rejected=function(e){return new N(this.mapper(e))},Y.prototype.toString=function(){return'mapRej('+u(this.mapper)+')'},X.prototype=Object.create(Ht),X.prototype.rejected=function(e){return V(this.mapper(e),this.mapper,e)},X.prototype.toString=function(){return'chainRej('+u(this.mapper)+')'},Q.prototype=Object.create(Ht),Q.prototype.rejected=function(e){return new j(e)},Q.prototype.resolved=function(e){return new N(e)},Q.prototype.toString=function(){return'swap()'},Z.prototype=Object.create(Ht),Z.prototype.rejected=function(e){return new j(this.lmapper(e))},Z.prototype.resolved=function(e){return new j(this.rmapper(e))},Z.prototype.toString=function(){return'fold('+u(this.lmapper)+', '+u(this.rmapper)+')'},J.prototype=Object.create(Ht),J.prototype.rejected=function(e){return this.other._and(new N(e))},J.prototype.resolved=function(e){return this.other._map(function(){return e})},J.prototype.cancel=function(){this.other._fork(a,a)()},J.prototype.toString=function(){return'finally('+this.other.toString()+')'},ee.prototype=Object.create(Ht),ee.prototype.resolved=function(){return this.other},ee.prototype.toString=function(){return'and('+this.other.toString()+')'},te.prototype=Object.create(Ht),te.prototype.rejected=function(){return this.other},te.prototype.toString=function(){return'or('+this.other.toString()+')'},oe.prototype=Object.create(Ht),oe.prototype.run=function(e){return new ne(e,new M(this.other))},oe.prototype.toString=function(){return'race('+this.other.toString()+')'},re.prototype=Object.create(Ht),re.prototype.resolved=function(e){return this.other._map(function(t){return[e,t]})},re.prototype.run=function(e){return new ae(e,new M(this.other))},re.prototype.toString=function(){return'both('+this.other.toString()+')'},ne.prototype=Object.create(oe.prototype),ae.prototype=Object.create(re.prototype),ie.prototype=Object.create(L.prototype),ie.prototype._transform=function(e){return new ie(this._spawn,I(e,this._actions))},ie.prototype._ap=function(e){return this._transform(new G(e))},ie.prototype._map=function(e){return this._transform(new K(e))},ie.prototype._bimap=function(e,t){return this._transform(new $(e,t))},ie.prototype._chain=function(e){return this._transform(new W(e))},ie.prototype._mapRej=function(e){return this._transform(new Y(e))},ie.prototype._chainRej=function(e){return this._transform(new X(e))},ie.prototype._race=function(e){return q(e)?this:this._transform(new oe(e))},ie.prototype._both=function(e){return this._transform(new re(e))},ie.prototype._and=function(e){return this._transform(new ee(e))},ie.prototype._or=function(e){return this._transform(new te(e))},ie.prototype._swap=function(){return this._transform(new Q)},ie.prototype._fold=function(e,t){return this._transform(new Z(e,t))},ie.prototype._finally=function(e){return this._transform(new J(e))},ie.prototype._fork=function(e,t){function o(e){if(l=!0,d=e,d._spawn){for(var t=d._actions;!t.isEmpty;)f.unshift(t.head),t=t.tail;d=d._spawn}g&&u()}function r(e){o(c.rejected(e))}function i(e){o(c.resolved(e))}function s(e,t){if(h(),f.clear(),g&&c!==t)for(c.cancel();(y=_.shift())&&y!==t;)y.cancel();o(e)}function p(){for(;y=f.pop();){if(y=y.run(s),l)return;_.unshift(y)}c=c.run(s)}function u(){for(g=!1;;){if(l=!1,c=f.shift())h=d._fork(r,i),l||p();else if(c=_.shift())h=d._fork(r,i);else break;if(!l)return void(g=!0)}h=d._fork(e,t)}var d,c,l,y,f=new n(this._actions.size),_=new n(this._actions.size),h=a,g=!0;return o(this),function(){for(h(),c&&c.cancel();y=_.shift();)y.cancel()}},ie.prototype.toString=function(){for(var e='',t=this._actions;!t.isEmpty;)e='.'+t.head.toString()+e,t=t.tail;return this._spawn.toString()+e};var zt=0,Vt=1,Gt=2;de.prototype=Object.create(qt),de.prototype._fork=function(e,t){function o(e){u=e,s=s==zt?Vt:r()}function r(){for(;!u.done;){s=zt;var r=n(se,pe,u.value);if(p=r._fork(e,o),s!==Vt)return void(s=Gt)}t(u.value)}var n=this._step,i=this._init,s=zt,p=a,u=se(i);return r(),function(){p()}},de.prototype.toString=function(){return'Future.chainRec('+u(this._step)+', '+wt(this._init)+')'},Be.prototype=Object.create(qt),Be.prototype._fork=function(e,t){function o(t){d||(d=!0,e(t))}var r,n,i,s,p=!1,u=!1,d=!1;return i=this._mval._fork(o,function(e){return i=a,p?void t(r(e)):void(u=!0,n=e)}),s=this._mfunc._fork(o,function(e){return s=a,je(e),u?void t(e(n)):void(p=!0,r=e)}),function(){i(),s()}},Be.prototype.toString=function(){return'new ParallelAp('+this._mval.toString()+', '+this._mfunc.toString()+')'},qe.prototype=Object.create(qt),qe.prototype._race=De,qe.prototype._swap=function(){return new Me(this._time,this._value)},qe.prototype._fork=function(e,t){var o=setTimeout(t,this._time,this._value);return function(){clearTimeout(o)}},qe.prototype.extractRight=function(){return[this._value]},qe.prototype.toString=function(){return'Future.after('+wt(this._time)+', '+wt(this._value)+')'},Me.prototype=Object.create(qt),Me.prototype._race=De,Me.prototype._swap=function(){return new qe(this._time,this._value)},Me.prototype._fork=function(e){var t=setTimeout(e,this._time,this._value);return function(){clearTimeout(t)}},Me.prototype.extractLeft=function(){return[this._value]},Me.prototype.toString=function(){return'Future.rejectAfter('+wt(this._time)+', '+wt(this._value)+')'},Ve.prototype=Object.create(qt),Ve.prototype._fork=function(t,e){var o;try{o=this._fn()}catch(o){return t(o),a}return e(o),a},Ve.prototype.toString=function(){return'Future.try('+u(this._fn)+')'};var Kt=$e.Cold=0,$t=$e.Pending=1,Wt=$e.Rejected=2,Yt=$e.Resolved=3;$e.prototype=Object.create(qt),$e.prototype.isRejected=function(){return this._state===Wt},$e.prototype.isResolved=function(){return this._state===Yt},$e.prototype.extractLeft=function(){return this.isRejected()?[this._value]:[]},$e.prototype.extractRight=function(){return this.isResolved()?[this._value]:[]},$e.prototype._addToQueue=function(e,t){var o=this;if(o._state>$t)return a;var r=o._queue.push(new Ke(e,t))-1;return++o._queued,function(){o._state>$t||(o._queue[r]=void 0,--o._queued,0===o._queued&&o.reset())}},$e.prototype._drainQueue=function(){if(!(this._state<=$t)&&0!==this._queued){for(var e=this._queue,t=e.length,o=this._state,r=this._value,n=0;n<t;n++)e[n]&&e[n][o](r),e[n]=void 0;this._queue=void 0,this._queued=0}},$e.prototype.reject=function(e){this._state>$t||(this._value=e,this._state=Wt,this._drainQueue())},$e.prototype.resolve=function(e){this._state>$t||(this._value=e,this._state=Yt,this._drainQueue())},$e.prototype.run=function(){var e=this;e._state>Kt||(e._state=$t,e._cancel=e._pure._fork(function(t){e.reject(t)},function(t){e.resolve(t)}))},$e.prototype.reset=function(){this._state===Kt||(this._state>$t&&this._cancel(),this._cancel=a,this._queue=[],this._queued=0,this._value=void 0,this._state=Kt)},$e.prototype._fork=function(e,t){var o=a;switch(this._state){case $t:o=this._addToQueue(e,t);break;case Wt:e(this._value);break;case Yt:t(this._value);break;default:o=this._addToQueue(e,t),this.run();}return o},$e.prototype.toString=function(){return'Future.cache('+this._pure.toString()+')'},We.prototype=Object.create(qt),We.prototype._fork=function(t,e){var o;try{o=this._fn(this._a)}catch(o){return t(o),a}return e(o),a},We.prototype.toString=function(){return'Future.encase('+u(this._fn)+', '+wt(this._a)+')'},Xe.prototype=Object.create(qt),Xe.prototype._fork=function(t,e){var o;try{o=this._fn(this._a,this._b)}catch(o){return t(o),a}return e(o),a},Xe.prototype.toString=function(){return'Future.encase2('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+')'},Ze.prototype=Object.create(qt),Ze.prototype._fork=function(t,e){var o;try{o=this._fn(this._a,this._b,this._c)}catch(o){return t(o),a}return e(o),a},Ze.prototype.toString=function(){return'Future.encase3('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+', '+wt(this._c)+')'},et.prototype=Object.create(qt),et.prototype._fork=function(e,t){var o=!0;return this._fn(this._a,function(r,n){o&&(o=!1,r?e(r):t(n))}),function(){o=!1}},et.prototype.toString=function(){return'Future.encaseN('+u(this._fn)+', '+wt(this._a)+')'},ot.prototype=Object.create(qt),ot.prototype._fork=function(e,t){var o=!0;return this._fn(this._a,this._b,function(r,n){o&&(o=!1,r?e(r):t(n))}),function(){o=!1}},ot.prototype.toString=function(){return'Future.encaseN2('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+')'},nt.prototype=Object.create(qt),nt.prototype._fork=function(e,t){var o=!0;return this._fn(this._a,this._b,this._c,function(r,n){o&&(o=!1,r?e(r):t(n))}),function(){o=!1}},nt.prototype.toString=function(){return'Future.encaseN3('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+', '+wt(this._c)+')'},st.prototype=Object.create(qt),st.prototype._fork=function(e,t){var o=this._fn,r=this._a,n=!0;return it(o(r),o,r).then(y(function(e){n&&(n=!1,t(e))}),y(function(t){n&&(n=!1,e(t))})),function(){n=!1}},st.prototype.toString=function(){return'Future.encaseP('+u(this._fn)+', '+wt(this._a)+')'},dt.prototype=Object.create(qt),dt.prototype._fork=function(e,t){var o=this._fn,r=this._a,n=this._b,a=!0;return ut(o(r,n),o,r,n).then(y(function(e){a&&(a=!1,t(e))}),y(function(t){a&&(a=!1,e(t))})),function(){a=!1}},dt.prototype.toString=function(){return'Future.encaseP2('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+')'},yt.prototype=Object.create(qt),yt.prototype._fork=function(e,t){var o=this._fn,r=this._a,n=this._b,a=this._c,i=!0;return lt(o(r,n,a),o,r,n,a).then(y(function(e){i&&(i=!1,t(e))}),y(function(t){i&&(i=!1,e(t))})),function(){i=!1}},yt.prototype.toString=function(){return'Future.encaseP3('+u(this._fn)+', '+wt(this._a)+', '+wt(this._b)+', '+wt(this._c)+')'},gt.prototype=Object.create(qt),gt.prototype._fork=function(e,t){function o(e){return i=e,p==Gt?r():void(p=Vt,n=ht(s.next(i)))}function r(){for(n=ht(s.next(i));!n.done;)if(p=zt,u=n.value._fork(e,o),p!=Vt)return void(p=Gt);t(n.value)}var n,i,s=_t(this._generator()),p=zt,u=a;return r(),function(){u()}},gt.prototype.toString=function(){return'Future.do('+u(this._generator)+')'},vt.prototype=Object.create(qt),vt.prototype._fork=function(e,t){function o(){h(d)}function r(){var t=l(u);return bt(t,l,u),p=t._fork(e,o),p}function n(){_(),r()()}function i(t){h=e,d=t,r()}function s(e){h=t,d=e,r()}var p,u,d,c=this._acquire,l=this._dispose,y=this._consume,f=a,_=a,h=a;return f=c._fork(e,function(e){u=e;var t=y(u);Et(t,y,u),p=n,_=t._fork(i,s)}),p=p||f,function(){p()}},vt.prototype.toString=function(){return'Future.hook('+this._acquire.toString()+', '+u(this._dispose)+', '+u(this._consume)+')'},kt.prototype=Object.create(qt),kt.prototype._fork=function(e,t){var o=!0;return this._fn(function(r,n){o&&(o=!1,r?e(r):t(n))}),function(){o=!1}},kt.prototype.toString=function(){return'Future.node('+u(this._fn)+')'},Rt.prototype=Object.create(qt),Rt.prototype._fork=function(e,t){function o(){for(var e=0;e<s;e++)u[e]&&u[e]()}function r(r){l++,u[r]=i[r]._fork(function(t){u[r]=a,o(),e(t)},function(e){u[r]=a,d[r]=e,l--,c===s&&0==l?t(d):y&&n()})}function n(){for(y=!1;c<s&&l<p;)r(c++);y=!0}var i=this._futures,s=this._length,p=this._max,u=Array(s),d=Array(s),c=0,l=0,y=!1;return n(),o},Rt.prototype.toString=function(){return'Future.parallel('+this._max+', '+wt(this._futures)+')'};var Xt=new j([]);It.prototype=Object.create(qt),It.prototype._fork=function(e,t){var o=!0;return xt(this._fn(),this._fn).then(y(function(e){o&&(o=!1,t(e))}),y(function(t){o&&(o=!1,e(t))})),function(){o=!1}},It.prototype.toString=function(){return'Future.tryP('+wt(this._fn)+')'},'function'!=typeof Object.create&&f('Please polyfill Object.create to use Fluture'),'function'!=typeof Object.assign&&f('Please polyfill Object.assign to use Fluture'),'function'!=typeof Array.isArray&&f('Please polyfill Array.isArray to use Fluture'),L.of=L[Ut.of]=B,L.chainRec=L[Ut.chainRec]=function(e,t){return new de(e,t)},L.reject=P,L.ap=le,L.map=he,L.bimap=be,L.chain=ve;var Qt=r(L,Mt,Ce,function(e,t){return new Be(e,t)});Qt.of=Qt[Ut.of],Qt.zero=Qt[Ut.zero],Qt.map=he,Qt.ap=le,Qt.alt=fe;var Zt=Object.freeze({Future:L,default:L,Par:Qt,isParallel:Ct,seq:function(e){return Ct(e)||h('Future.seq',0,'to be a Par',e),e.sequential},isFuture:w,reject:P,of:B,never:Mt,isNever:q,after:function(e,t){return A(e)||h('Future.after',0,'be a positive integer',e),1===arguments.length?d(He,e):He(e,t)},rejectAfter:function(e,t){return A(e)||h('Future.rejectAfter',0,'be a positive integer',e),1===arguments.length?d(ze,e):ze(e,t)},attempt:Ge,try:Ge,cache:function(e){return w(e)||v('Future.cache',0,e),new $e(e)},encase:Ye,encase2:Qe,encase3:Je,encaseN:tt,encaseN2:rt,encaseN3:at,encaseP:pt,encaseP2:ct,encaseP3:ft,go:mt,do:mt,hook:function(e,t,o){return w(e)||v('Future.hook',0,e),1===arguments.length?d(Ft,e):2===arguments.length?Ft(e,t):Ft(e,t,o)},node:function(e){return S(e)||h('Future.node',0,'be a function',e),new kt(e)},parallel:function(e,t){return A(e)||h('Future.parallel',0,'be a positive integer',e),1===arguments.length?d(Tt,e):Tt(e,t)},tryP:function(e){return S(e)||h('Future.tryP',0,'be a function',e),new It(e)},ap:le,alt:fe,map:he,bimap:be,chain:ve,mapRej:function(e,t){return S(e)||h('Future.mapRej',0,'be a Function',e),1===arguments.length?d(Se,e):Se(e,t)},chainRej:function(e,t){return S(e)||h('Future.chainRej',0,'be a Function',e),1===arguments.length?d(Fe,e):Fe(e,t)},lastly:Ae,finally:Ae,and:function(e,t){return w(e)||v('Future.and',0,e),1===arguments.length?d(Re,e):Re(e,t)},both:function(e,t){return w(e)||v('Future.both',0,e),1===arguments.length?d(Te,e):Te(e,t)},or:function(e,t){return w(e)||v('Future.or',0,e),1===arguments.length?d(xe,e):xe(e,t)},race:Ce,swap:function(e){return w(e)||v('Future.swap',0,e),e.swap()},fold:function(e,t,o){return S(e)||h('Future.fold',0,'be a function',e),1===arguments.length?d(we,e):2===arguments.length?we(e,t):we(e,t,o)},done:function(e,t){return S(e)||h('Future.done',0,'be a Function',e),1===arguments.length?d(Ue,e):Ue(e,t)},fork:function(e,t,o){return S(e)||h('Future.fork',0,'be a function',e),1===arguments.length?d(Ne,e):2===arguments.length?Ne(e,t):Ne(e,t,o)},promise:function(e){return w(e)||v('Future.promise',0,e),e.promise()},value:function(e,t){return S(e)||h('Future.value',0,'be a Function',e),1===arguments.length?d(Pe,e):Pe(e,t)},extractLeft:function(e){return w(e)||v('Future.extractLeft',0,e),e.extractLeft()},extractRight:function(e){return w(e)||v('Future.extractRight',0,e),e.extractRight()}}),Jt=Object.assign(L,Zt);return Jt})}),PLACEHOLDER='\uD83C\uDF5B',$=PLACEHOLDER,innerpipe=function(t){return function(o){for(var r=t[0],n=t.slice(1),e=r(o),a=0;a<n.length;a++)e=n[a](e);return e}};function pipe(){for(var e=arguments,t=arguments.length,o=Array(t),r=0;r<t;++r)o[r]=e[r];return innerpipe(o)}function compose(){for(var e=arguments,t=arguments.length,o=Array(t),r=0;r<t;++r)o[r]=e[r];return innerpipe(o.reverse())}var version$2='0.6.0',K=function(e){return function(){return e}},I=function(e){return e},bindInternal3$1=function(t,o){return function(e,r,n){return t.call(o,e,r,n)}},some$1$1=function(t,o,r){var n,a=t.length,e=void 0===r?o:bindInternal3$1(o,r);for(n=0;n<a;n++)if(e(t[n],n,t))return!0;return!1},curry=function(t){if('function'!=typeof t)throw new TypeError('Expected to be given a function to curry!');var o=function(e){return e===PLACEHOLDER};return function r(){for(var n=arguments,a=arguments.length,i=Array(a),e=0;e<a;++e)i[e]=n[e];var s=some$1$1(i,o)?function(e){for(var t=e.length;!o(e[t]);)t--;return t}(i):i.length;return s>=t.length?t.apply(this,i):function(){for(var t=arguments,n=arguments.length,s=Array(n),e=0;e<n;++e)s[e]=t[e];return r.apply(this,i.map(function(e){return o(e)&&s[0]?s.shift():e}).concat(s))}}},curryify=function(t){if('function'!=typeof t)throw new TypeError('Expected to be given a function to test placeholders!');return function(o){if('function'!=typeof o)throw new TypeError('Expected to be given a function to curry!');return function r(){for(var n=arguments,a=arguments.length,i=Array(a),e=0;e<a;++e)i[e]=n[e];var s=some$1$1(i,t)?function(e){for(var o=e.length;!t(e[o]);)o--;return o}(i):i.length;return s>=o.length?o.apply(this,i):function(){for(var o=arguments,n=arguments.length,a=Array(n),e=0;e<n;++e)a[e]=o[e];return r.apply(this,i.map(function(e){return t(e)&&a[0]?a.shift():e}).concat(a))}}}},remapArray=curry(function(e,t){var o=Array.from(t);return o.length?o.map(function(t,r){return e.includes(r)?o[e[r]]:t}):o}),remap=curry(function(e,t){var o=remapArray(e),r=curry(t);return function(){var e=o(Array.from(arguments));return r.apply(null,e)}}),prop=curry(function(e,t){return t[e]}),_assign$1=Object.assign,_keys$1=Object.keys,keys$1$1=_keys$1,assign$1=_assign$1,merge$1=curry(function(e,t){return assign$1({},e,t)}),propLength=prop('length'),objectLength=pipe(keys$1$1,propLength),length=function(e){return'object'==typeof e?objectLength(e):propLength(e)},delegatee=curry(function(e,t,o){return o[e](t)}),filter$1$1=delegatee('filter'),flipIncludes=curry(function(e,t){return e.includes(t)}),matchingKeys=curry(function(e,t){return filter$1$1(flipIncludes(e),keys$1$1(t))}),matchingKeyCount=curry(function(e,t){return pipe(matchingKeys(e),length)(t)}),curryObjectByCondition=curry(function(t,o,r){return function n(a){return t(o,a)?r(a):pipe(merge$1(a),n)}}),expectKArgs=function(e,t){return matchingKeyCount(e,t)>=length(e)},curryObjectK=curryObjectByCondition(expectKArgs),expectNArgs=function(e,t){return length(t)>=e},curryObjectN=curryObjectByCondition(expectNArgs),curryObjectKN=curryObjectByCondition(function(e,t){var o=e.n,r=e.k;return expectKArgs(r,t)||expectNArgs(o,t)}),katsuCurry=Object.freeze({$:$,PLACEHOLDER:PLACEHOLDER,compose:compose,pipe:pipe,version:version$2,K:K,I:I,curry:curry,curryify:curryify,remap:remap,remapArray:remapArray,curryObjectK:curryObjectK,curryObjectN:curryObjectN,curryObjectKN:curryObjectKN}),katsuCurry$1=katsuCurry,entrust$1=createCommonjsModule(function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=katsuCurry$1.curry(function(e,t){return t[e]()}),r=katsuCurry$1.curry(function(e,t,o){return o[e](t)}),n=katsuCurry$1.curry(function(e,t,o,r){return r[e](t,o)}),i=katsuCurry$1.curry(function(t,o,e,r,n){return n[t](o,e,r)}),s=katsuCurry$1.curry(function(t,e,o,r,n,a){return a[t](e,o,r,n)}),p=katsuCurry$1.curry(function(t,o,r,n,a,i,s){return s[t](o,r,n,a,i)}),u=katsuCurry$1.curry(function(t,o,r,n,a,i,s,e){return e[t](o,r,n,a,i,s)}),l=katsuCurry$1.curry(function(t,o,r,n,a,i,s,e,p){return p[t](o,r,n,a,i,s,e)}),y=katsuCurry$1.curry(function(t,o,r,n,a,i,s,e,p,u){return u[t](o,r,n,a,i,s,e,p)}),f=katsuCurry$1.curry(function(t,o,r,n,a,s,p,e,u,d,c){return c[t](o,r,n,a,s,p,e,u,d)}),_=katsuCurry$1.curry(function(t,o,r,n,a,s,p,e,u,d,c,i){return i[t](o,r,n,a,s,p,e,u,d,c)}),d=katsuCurry$1.curry(function(t,a,h,c){var d=[a].concat(h,[c]);return[o,r,n,i,s,p,u,l,y,f,_][t].apply(null,d)}),a=katsuCurry$1.curry(function(t,o,r,e){if(t!==r.length)throw new Error(o+' expects total args ('+r.length+') to equal the given arity ('+t+')');return d(t,o,r,e)});t.e0=o,t.e1=r,t.e2=n,t.e3=i,t.e4=s,t.e5=p,t.e6=u,t.e7=l,t.e8=y,t.e9=f,t.e10=_,t.eN=d,t.eD=a});unwrapExports(entrust$1);var entrust_1=entrust$1.e0,entrust_2=entrust$1.e1,entrust_3=entrust$1.e2,flatmapFast=createCommonjsModule(function(e){var t=function(e){return e.reduce(function(e,t){return e.concat(t)})};e.exports=function(e,o){return o?t(e.map(o)):t(e)}});function unwrapExports$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,'default')?e['default']:e}function createCommonjsModule$1(e,t){return t={exports:{}},e(t,t.exports),t.exports}var pipe_1=createCommonjsModule$1(function(e,t){'use strict';function o(e){return Array.isArray(e)?e:Array.from(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.pipe=function(){for(var t=arguments,o=arguments.length,n=Array(o),a=0;a<o;++a)n[a]=t[a];return r(n)};var r=t.innerpipe=function(t){return function(r){for(var n=o(t),e=n[0],a=n.slice(1),s=e(r),p=0;p<a.length;p++)s=a[p](s);return s}}});unwrapExports$1(pipe_1);var placeholder=createCommonjsModule$1(function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=t.PLACEHOLDER='\uD83C\uDF5B',r=t.$=o});unwrapExports$1(placeholder),'use strict';var bindInternal3=function(t,o){return function(e,r,n){return t.call(o,e,r,n)}},some=function(t,o,r){var n,a=t.length,e=void 0===r?o:bindInternal3(o,r);for(n=0;n<a;n++)if(e(t[n],n,t))return!0;return!1},curry_1=createCommonjsModule$1(function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.curry=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(some),r=t.curry=function(t){if('function'!=typeof t)throw new TypeError('Expected to be given a function to curry!');var r=function(e){return e===placeholder.PLACEHOLDER};return function n(){for(var a=arguments,e=arguments.length,s=Array(e),p=0;p<e;++p)s[p]=a[p];var u=(0,o.default)(s,r)?function(e){for(var t=e.length;!r(e[t]);)t--;return t}(s):s.length;return u>=t.length?t.apply(this,s):function(){for(var t=arguments,o=arguments.length,i=Array(o),e=0;e<o;++e)i[e]=t[e];return n.apply(this,s.map(function(e){return r(e)&&i[0]?i.shift():e}).concat(i))}}}});unwrapExports$1(curry_1);var prop_1=createCommonjsModule$1(function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.prop=void 0,t.prop=(0,curry_1.curry)(function(e,t){return t[e]})});unwrapExports$1(prop_1);var object=createCommonjsModule$1(function(t,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.merge=o.values=o.freeze=o.assign=o.keys=void 0;var r=Object.assign,n=Object.keys,a=Object.freeze,e=o.keys=n,s=o.assign=r,p=o.freeze=a,u=o.values=function(e){var t=[];for(var o in e)t.push(e[o]);return t},i=o.merge=(0,curry_1.curry)(function(e,t){return s({},e,t)})});unwrapExports$1(object);var length_1=createCommonjsModule$1(function(t,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.length=o.objectLength=o.propLength=void 0;var r=o.propLength=(0,prop_1.prop)('length'),n=o.objectLength=(0,pipe_1.pipe)(object.keys,r),a=o.length=function(e){return'object'==typeof e?n(e):r(e)}});unwrapExports$1(length_1);var random$1=function(e){return void 0===e&&(e=1),Math.round(Math.random()*e)},floor=function(e){return Math.floor(Math.random()*e)},floorMin=curry(function(e,t){return floor(t)+e}),f$1=Object.freeze({floor:floor,floorMin:floorMin}),iterate=curry(function(e,t){var o=e,r=[];if('function'!=typeof t||'number'!=typeof o)return r;for(;0<o;)o--,r.push(t());return r}),keys=Object.keys,take=curry(function(t,o){if(o&&o[0]&&o.length){var r=floor(o.length),n=o[r];return t?[n]:n}var a=keys(o),e=floor(a.length),s=a[e],p=o[s];return t?(u={},u[s]=p,u):p;var u}),pick=take(!1),grab=take(!0),allot=curry(function(e,t){return iterate(e,function(){return grab(t)})}),t=Object.freeze({take:take,pick:pick,grab:grab,allot:allot}),filter$2=function(t,o,r){var n,a=t.length,e=[],i=void 0===r?o:bindInternal3(o,r);for(n=0;n<a;n++)i(t[n],n,t)&&e.push(t[n]);return e},filter$4=function(t,o,r){var n,a,e=Object.keys(t),s=e.length,p={},u=void 0===r?o:bindInternal3(o,r);for(n=0;n<s;n++)a=e[n],u(t[a],a,t)&&(p[a]=t[a]);return p},filter$1=function(e,t,o){return e instanceof Array?filter$2(e,t,o):filter$4(e,t,o)},has=curry(function(e,t){return!!t[e]}),isArray=Array.isArray,willDelegate=curry(function(e,t){return has(e,t)&&!isArray(t)}),delegateFastBinary=curry(function(e,t,o,r){return willDelegate(e,r)?entrust_2(e,o,r):t(r,o)}),delegateFastTertiary=curry(function(t,o,r,n,a){return willDelegate(t,a)?entrust_3(t,r,n,a):o(a,r,n)}),filter=delegateFastBinary('filter',filter$1),join=entrust_2('join'),concat=entrust_2('concat'),sort=curry(function(e,t){var o=Array.from(t);return o.sort(e),o}),difference=curry(function(e,t){return filter(function(t){return!e.includes(t)},t)}),symmetricDifference=curry(function(e,t){var o=difference(e,t),r=difference(t,e);return o.length>r.length?o:r}),alterIndex=curry(function(t,o,r){var n=Array.from(r),a=-1<t?t:n.length-Math.abs(t);return n[a]=o(n[a]),n}),alterFirstIndex=alterIndex(0),alterLastIndex=alterIndex(-1),alphabet=['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'],wordSource=curry(function(e,t){return pipe(allot(t),join(''))(e)}),word=function(e){return void 0===e&&(e=5),wordSource(alphabet,e)},w=Object.freeze({wordSource:wordSource,word:word}),shuffle=function(t){for(var o=[].concat(t),r=o.length;0<r--;){var n=Math.floor(Math.random()*r+1),a=o[n],e=o[r];o[n]=e,o[r]=a}return o},s=Object.freeze({shuffle:shuffle}),choice=curry(function(e,t,o){return e(o,t)?o:t}),flip=function(e){return curry(function(t,o){return e(o,t)})},fork=entrust_3('fork'),map$2=function(t,o,r){var n,a=t.length,e=Array(a),i=void 0===r?o:bindInternal3(o,r);for(n=0;n<a;n++)e[n]=i(t[n],n,t);return e},map$4=function(t,o,r){var n,a,e=Object.keys(t),s=e.length,p={},u=void 0===r?o:bindInternal3(o,r);for(n=0;n<s;n++)a=e[n],p[a]=u(t[a],a,t);return p},map$1=function(e,t,o){return e instanceof Array?map$2(e,t,o):map$4(e,t,o)},map=curry(function(e,t){return t&&!Array.isArray(t)&&t.map?t.map(e):map$1(t,e)}),isTypeof=curry(function(e,t){return e===typeof t}),isBoolean=isTypeof('boolean'),isNumber=isTypeof('number'),isFunction=isTypeof('function'),isString=isTypeof('string'),isObject=isTypeof('object'),bindInternal4=function(t,e){return function(o,r,n,a){return t.call(e,o,r,n,a)}},reduce$2=function(t,o,r,n){var a,e,i=t.length,s=void 0===n?o:bindInternal4(o,n);for(void 0===r?(a=1,e=t[0]):(a=0,e=r);a<i;a++)e=s(e,t[a],a,t);return e},reduce$4=function(t,o,r,n){var a,e,s,p=Object.keys(t),u=p.length,i=void 0===n?o:bindInternal4(o,n);for(void 0===r?(a=1,s=t[p[0]]):(a=0,s=r);a<u;a++)e=p[a],s=i(s,t[e],e,t);return s},reduce$1=function(e,t,o,r){return e instanceof Array?reduce$2(e,t,o,r):reduce$4(e,t,o,r)},reduce=delegateFastTertiary('reduce',reduce$1),ap=curry(function(e,t){return t&&t.ap&&isFunction(t.ap)?t.ap(e):isFunction(t)?function(o){return e(o)(t(o))}:reduce(function(e,o){return e.concat(map(o,t))},[],e)}),fold=entrust_3('fold'),chain=delegateFastBinary('chain',flatmapFast),equals=curry(function(e,t){return e===t}),greaterThan=curry(function(e,t){return t>e}),greaterThanOrEqualTo=curry(function(e,t){return t>=e}),lessThan=curry(function(e,t){return t<e}),lessThanOrEqualTo=curry(function(e,t){return t<=e}),add$1=curry(function(e,t){return t+e}),subtract=curry(function(e,t){return t-e}),multiply=curry(function(e,t){return t*e}),divide=curry(function(e,t){return t/e}),pow=curry(function(e,t){return Math.pow(t,e)}),invert=function(e){return!e},not1=curry(function(e,t){return pipe(e(t),invert)}),not2=curry(function(e,t,o){return pipe(e(t,o),invert)}),not3=curry(function(t,o,e,r){return pipe(t(o,e,r),invert)}),reject=curry(function(e,t){return filter(function(t){return!e(t)},t)}),trim=entrust_1('trim'),charAt=entrust_2('charAt'),codePointAt=entrust_2('codePointAt'),match=entrust_2('match'),repeat=entrust_2('repeat'),search=entrust_2('search'),split=entrust_2('split'),endsWithLength=entrust_3('endsWith'),endsWith=curry(function(e,t){return endsWithLength(e,t.length,t)}),indexOfFromIndex=entrust_3('indexOf'),indexOf=curry(function(e,t){return indexOfFromIndex(e,0,t)}),lastIndexOfFromIndex=entrust_3('lastIndexOf'),lastIndexOf=curry(function(e,t){return lastIndexOfFromIndex(e,Infinity,t)}),padEnd=entrust_3('padEnd'),padStart=entrust_3('padStart'),replace=entrust_3('replace'),startsWithFromPosition=entrust_3('startsWith'),startsWith=curry(function(e,t){return startsWithFromPosition(e,0,t)}),substr=entrust_3('substr'),ternary=curry(function(e,t,o){return e?o:t}),triplet=curry(function(e,t,o,r){return e(r)?o(r):t(r)}),range=curry(function(t,o){for(var r=[],e=t<o,n=e?[t,o]:[o+1,t+1],i=n[0],s=n[1],a=i;a<s;a++)r.push(a);return e?r:r.reverse()}),_keys=Object.keys,_assign=Object.assign,keys$1=_keys,assign=_assign,merge=curry(function(e,t){return assign({},e,t)}),entries=function(e){return pipe(keys$1,map(function(t){return[t,e[t]]}))(e)},toPairs=entries,fromPairs=reduce(function(t,o){var r=o[0],n=o[1];return merge(t,(a={},a[r]=n,a));var a},{}),mapTuples=curry(function(e,t){return pipe(toPairs,map(e),fromPairs)(t)}),mapKeys=curry(function(e,t){return mapTuples(function(t){var o=t[0],r=t[1];return[e(o),r]},t)}),pathOr=curry(function(e,t,o){return reduce(function(t,o){return t[o]||e},o,t)}),path=pathOr(null),propOr=curry(function(e,t,o){return pathOr(e,[t],o)}),prop$1=propOr(null),pathIs=curry(function(e,t,o){return pipe(path(t),e,Boolean)(o)}),pathEq=curry(function(e,t,o){return pathIs(equals(e),t,o)}),propIs=curry(function(e,t,o){return pipe(prop$1([t]),e,Boolean)(o)}),propEq=curry(function(e,t,o){return pathIs(equals(e),[t],o)}),every$1=function(t,o,r){var n,a=t.length,e=void 0===r?o:bindInternal3(o,r);for(n=0;n<a;n++)if(!e(t[n],n,t))return!1;return!0},keys$2=Object.keys,which=curry(function(e,t,o){var r=flip(e);return triplet(Array.isArray,r(t),pipe(keys$2,r(function(e){return t(o[e],e)})),o)}),some$1=which(some),every=which(every$1),random$$1=Object.assign(random$1,f$1,t,w,s),trace=curry(function(e,t){return console.log(e,t),t}),willBeOnline=fluture.encaseP(isOnline);export default willBeOnline;
